@startuml
package "fhir.repositories" {

  interface FhirMappingRepository {
    +findByLocal(localType: String, localId: String, fhirType: String): FhirIdMapping
    +upsert(mapping: FhirIdMapping): FhirIdMapping
  }

  interface FhirTxLogRepository {
    +append(tx: FhirTxLog): void
    +listRecent(limit: int): FhirTxLog      ' list
  }

  interface FhirSyncJobRepository {
    +create(job: FhirSyncJob): FhirSyncJob
    +updateStatus(jobId: UUID, status: String, updatedCount: int, errorMessage: String): void
    +listRecent(limit: int): FhirSyncJob    ' list
  }
}
@enduml
