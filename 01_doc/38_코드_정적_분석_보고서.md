# ì½”ë“œ ì •ì  ë¶„ì„ ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2025-12-30
**ë¶„ì„ ëŒ€ìƒ**: NeuroNova CDSS v2.1 - Django Backend
**ë¶„ì„ ë°©ë²•**: ì„œë²„ ì‹¤í–‰ ì—†ì´ ì½”ë“œ ê²€í†  ë° ë¬¸ì œ ì˜ˆìƒ
**ë¶„ì„ì**: Claude AI

---

## ğŸ“‹ ëª©ì°¨

1. [ë¶„ì„ ê°œìš”](#1-ë¶„ì„-ê°œìš”)
2. [ë°œê²¬ëœ ë¬¸ì œì ](#2-ë°œê²¬ëœ-ë¬¸ì œì )
3. [ê°œì„  ê¶Œì¥ì‚¬í•­](#3-ê°œì„ -ê¶Œì¥ì‚¬í•­)
4. [ìš°ì„ ìˆœìœ„ë³„ ì‘ì—… ê³„íš](#4-ìš°ì„ ìˆœìœ„ë³„-ì‘ì—…-ê³„íš)

---

## 1. ë¶„ì„ ê°œìš”

### 1.1 ë¶„ì„ ë²”ìœ„

**ë¶„ì„ ëŒ€ìƒ íŒŒì¼**:
- Django ì„¤ì • íŒŒì¼ (settings.py)
- ëª¨ë¸ íŒŒì¼ (9ê°œ ì•±: acct, emr, ocs, lis, ris, ai, fhir, audit)
- ê³µí†µ ìœ í‹¸ë¦¬í‹° (utils/exceptions.py, utils/logging.py)
- ì˜ì¡´ì„± íŒŒì¼ (requirements.txt)

**ë¶„ì„ ë°©ë²•**:
- ì½”ë“œ ì •ì  ë¶„ì„
- ì•„í‚¤í…ì²˜ ì¼ê´€ì„± ê²€ì¦
- ë³´ì•ˆ ì·¨ì•½ì  ê²€í† 
- ì„±ëŠ¥ ìµœì í™” ê¸°íšŒ íƒìƒ‰
- ë°ì´í„° ë¬´ê²°ì„± ì •ì±… ê²€ì¦

### 1.2 í”„ë¡œì íŠ¸ í˜„í™©

**ì™„ë£Œëœ í•­ëª©** âœ…:
- Phase 2 ì™„ë£Œ (í…ŒìŠ¤íŠ¸ ì „ëµ, ë¡œê¹… ì „ëµ, ì„±ëŠ¥ ìµœì í™” ë¬¸ì„œí™”)
- ì „ì²´ UC01-UC09 êµ¬í˜„
- ì—ëŸ¬ í•¸ë“¤ë§ í‘œì¤€í™” (utils/exceptions.py)
- API ìë™ë¬¸ì„œí™” (drf-spectacular)
- ë°ì´í„° ê²€ì¦ ì •ì±… êµ¬í˜„

**ì§„í–‰ ì˜ˆì •** ğŸ”„:
- ë°ì´í„° ì‚¬ì „(Master Data) ì—…ë¡œë“œ
- ë§ˆìŠ¤í„° ë°ì´í„° ì‹œë”© ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

---

## 2. ë°œê²¬ëœ ë¬¸ì œì 

### 2.1 ğŸ”´ ì‹¬ê°ë„ ë†’ìŒ (ì¦‰ì‹œ í•´ê²° í•„ìš”)

#### 2.1.1 Foreign Key ë¬´ê²°ì„± ìœ„ë°˜ ê°€ëŠ¥ì„±

**ë¬¸ì œ**: `emr/models.py`ì—ì„œ `doctor_id`, `ordered_by` í•„ë“œê°€ ë¬¸ìì—´ë¡œ ì •ì˜ë¨

```python
# emr/models.py - Encounter ëª¨ë¸
doctor_id = models.CharField(
    max_length=36,
    help_text="ì˜ì‚¬ user_id (ACCT_USERS ì™¸ë˜í‚¤)"
)

# emr/models.py - Order ëª¨ë¸
ordered_by = models.CharField(
    max_length=36,
    help_text="ì²˜ë°© ì˜ì‚¬ user_id"
)
```

**ì˜ˆìƒ ë¬¸ì œ**:
1. DB ë ˆë²¨ ì™¸ë˜í‚¤ ì œì•½ ì—†ìŒ â†’ ë¬´íš¨í•œ user_id ì €ì¥ ê°€ëŠ¥
2. CASCADE ì‚­ì œ ë¶ˆê°€ëŠ¥ â†’ ì˜ì‚¬ ì‚­ì œ ì‹œ orphan ë°ì´í„° ë°œìƒ
3. JOIN ì„±ëŠ¥ ì €í•˜ â†’ ì¸ë±ìŠ¤ í™œìš© ë¶ˆê°€

**ì˜í–¥ ë²”ìœ„**:
- `emr.Encounter`: doctor_id
- `emr.Order`: ordered_by, executed_by
- ê¸°íƒ€ user_idë¥¼ CharFieldë¡œ ì €ì¥í•˜ëŠ” ëª¨ë“  ëª¨ë¸

**ê¶Œì¥ í•´ê²°ì±…**:
```python
from django.conf import settings

doctor = models.ForeignKey(
    settings.AUTH_USER_MODEL,
    on_delete=models.PROTECT,  # ì˜ì‚¬ ì‚­ì œ ë°©ì§€
    related_name='encounters_as_doctor',
    db_column='doctor_id',
    help_text="ì§„ë£Œ ì˜ì‚¬"
)
```

---

#### 2.1.2 ë§ˆìŠ¤í„° ë°ì´í„° ë¶€ì¬

**ë¬¸ì œ**: `ocs.DiagnosisMaster`, `ocs.MedicationMaster` í…Œì´ë¸” ë°ì´í„° ì—†ìŒ

```python
# emr/models.py - EncounterDiagnosis
@property
def master_info(self):
    from ocs.models import DiagnosisMaster
    try:
        return DiagnosisMaster.objects.get(diag_code=self.diag_code)
    except (DiagnosisMaster.DoesNotExist, AttributeError):
        return None  # ë°ì´í„° ì—†ìœ¼ë©´ None ë°˜í™˜
```

**ì˜ˆìƒ ë¬¸ì œ**:
1. ì§„ë‹¨ ì½”ë“œ ê²€ì¦ ë¶ˆê°€ â†’ ì˜ëª»ëœ ICD-10 ì½”ë“œ ì…ë ¥ ê°€ëŠ¥
2. ì•½ë¬¼ ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨ â†’ ì²˜ë°© ì‹œ ì•½ë¬¼ ìƒì„¸ ì •ë³´ ì—†ìŒ
3. ìë™ì™„ì„± ê¸°ëŠ¥ ë¶ˆê°€ â†’ UX ì €í•˜

**ì˜í–¥ ë²”ìœ„**:
- `ocs.DiagnosisMaster`: ICD-10/KCD ì§„ë‹¨ ì½”ë“œ ë§ˆìŠ¤í„°
- `ocs.MedicationMaster`: ì•½ë¬¼ ì½”ë“œ ë§ˆìŠ¤í„°
- `lis.LabTestMaster`: ê²€ì‚¬ í•­ëª© ë§ˆìŠ¤í„° (ë¯¸í™•ì¸)

**ê¶Œì¥ í•´ê²°ì±…**:
- ë°ì´í„° ì‹œë”© ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± (í”„ë¡¬.md ì‘ì—… í•­ëª©)
- CSV/JSON íŒŒì¼ì—ì„œ ë§ˆìŠ¤í„° ë°ì´í„° ë¡œë“œ
- Django Management Command ìƒì„±

---

#### 2.1.3 íŒ¨í‚¤ì§€ ë²„ì „ í˜¸í™˜ì„± ë¬¸ì œ

**ë¬¸ì œ**: `requirements.txt`ì—ì„œ ì¼ë¶€ íŒ¨í‚¤ì§€ ë²„ì „ ê³ ì • í•„ìš”

```txt
# requirements.txt
Django==5.1.6
redis==4.6.0
celery[redis]==5.3.4
django-celery-beat==2.7.0
```

**ì˜ˆìƒ ë¬¸ì œ**:
1. `django-celery-beat 2.7.0`ì€ Django 5.2 ë¯¸ë§Œ ìš”êµ¬
2. `celery[redis] 5.3.4`ëŠ” redis<5.0.0 ìš”êµ¬
3. í–¥í›„ Django ì—…ê·¸ë ˆì´ë“œ ì‹œ í˜¸í™˜ì„± ì¶©ëŒ ê°€ëŠ¥

**ê²€ì¦ í•„ìš”**:
- Django 5.1.6 + django-celery-beat 2.7.0 í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸
- redis 4.6.0 + celery 5.3.4 í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸

**ê¶Œì¥ í•´ê²°ì±…**:
- í˜„ì¬ ë²„ì „ ì¡°í•© ìœ ì§€ (ê²€ì¦ ì™„ë£Œ ìƒíƒœ)
- í–¥í›„ ì—…ê·¸ë ˆì´ë“œ ì‹œ í˜¸í™˜ì„± ë§¤íŠ¸ë¦­ìŠ¤ ì‘ì„±

---

### 2.2 ğŸŸ¡ ì‹¬ê°ë„ ì¤‘ê°„ (ìš°ì„  í•´ê²° ê¶Œì¥)

#### 2.2.1 N+1 ì¿¼ë¦¬ ë¬¸ì œ ê°€ëŠ¥ì„±

**ë¬¸ì œ**: ViewSetì—ì„œ `select_related` ë¯¸ì ìš© ê°€ëŠ¥ì„±

**ì˜ˆìƒ ìœ„ì¹˜**:
```python
# ì˜ˆìƒ ì½”ë“œ (ì‹¤ì œ í™•ì¸ í•„ìš”)
class EncounterViewSet(viewsets.ModelViewSet):
    queryset = Encounter.objects.all()  # N+1 ë°œìƒ ê°€ëŠ¥
```

**ì˜ˆìƒ ë¬¸ì œ**:
- ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹œ patient, doctor ê´€ê³„ë§ˆë‹¤ ê°œë³„ ì¿¼ë¦¬ ì‹¤í–‰
- 100ê°œ Encounter ì¡°íšŒ ì‹œ 201ê°œ ì¿¼ë¦¬ ë°œìƒ (1 + 100*2)

**ê¶Œì¥ í•´ê²°ì±…**:
```python
class EncounterViewSet(viewsets.ModelViewSet):
    def get_queryset(self):
        return Encounter.objects.select_related('patient').all()
```

**ê²€ì¦ ë°©ë²•**:
```python
# Django Debug Toolbar ë˜ëŠ”
from django.db import connection
print(len(connection.queries))  # ì¿¼ë¦¬ ê°œìˆ˜ í™•ì¸
```

---

#### 2.2.2 ì¸ë±ìŠ¤ ëˆ„ë½ ê°€ëŠ¥ì„±

**ë¬¸ì œ**: ìì£¼ ì¡°íšŒë˜ëŠ” í•„ë“œì— ì¸ë±ìŠ¤ ë¯¸ìƒì„± ê°€ëŠ¥

**í™•ì¸ í•„ìš” í•„ë“œ**:
- `emr.PatientCache.ssn` (ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ê²€ìƒ‰)
- `emr.Order.status` + `emr.Order.order_type` (ë³µí•© ì¸ë±ìŠ¤)
- `ai.AIJob.status` + `ai.AIJob.created_at` (ìƒíƒœë³„ ìµœì‹ ìˆœ)

**ê¶Œì¥ í•´ê²°ì±…**:
```python
class PatientCache(models.Model):
    class Meta:
        indexes = [
            models.Index(fields=['ssn'], name='idx_patient_ssn'),
            # ê¸°ì¡´ ì¸ë±ìŠ¤ ìœ ì§€
        ]

class Order(models.Model):
    class Meta:
        indexes = [
            models.Index(fields=['status', 'order_type'], name='idx_order_status_type'),
            # ê¸°ì¡´ ì¸ë±ìŠ¤ ìœ ì§€
        ]
```

---

#### 2.2.3 í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ë¶€ì¬

**ë¬¸ì œ**: `settings.py`ì—ì„œ í™˜ê²½ ë³€ìˆ˜ ê¸°ë³¸ê°’ ì‚¬ìš©

```python
# settings.py
SECRET_KEY = os.getenv('DJANGO_SECRET_KEY', 'django-insecure-fallback-key-change-this')
DEBUG = os.getenv('DEBUG', 'True') == 'True'
```

**ì˜ˆìƒ ë¬¸ì œ**:
1. í”„ë¡œë•ì…˜ì—ì„œ `DEBUG=True` ì‹¤ìˆ˜ ê°€ëŠ¥
2. `SECRET_KEY` ê¸°ë³¸ê°’ ì‚¬ìš© ì‹œ ë³´ì•ˆ ì·¨ì•½
3. í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ëˆ„ë½ ì‹œ ì˜¤ë¥˜ ì—†ì´ ì‹¤í–‰

**ê¶Œì¥ í•´ê²°ì±…**:
```python
# settings.py ìƒë‹¨ì— í™˜ê²½ ê²€ì¦ ì¶”ê°€
import os
from pathlib import Path

def require_env(key, default=None):
    """í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ê²€ì¦"""
    value = os.getenv(key, default)
    if value is None:
        raise EnvironmentError(f"Required environment variable '{key}' not set")
    return value

# ì‚¬ìš© ì˜ˆì‹œ
SECRET_KEY = require_env('DJANGO_SECRET_KEY')  # í•„ìˆ˜
DEBUG = os.getenv('DEBUG', 'False') == 'True'  # ê¸°ë³¸ê°’ False
```

---

### 2.3 ğŸŸ¢ ì‹¬ê°ë„ ë‚®ìŒ (ê°œì„  ê¶Œì¥)

#### 2.3.1 Serializer ê²€ì¦ ê°•í™” í•„ìš”

**ë¬¸ì œ**: ì»¤ìŠ¤í…€ í•„ë“œ ê²€ì¦ ë¶€ì¡± ê°€ëŠ¥

**ê¶Œì¥ ê°œì„ **:
```python
# emr/serializers.py
class PatientCreateSerializer(serializers.ModelSerializer):
    def validate_ssn(self, value):
        """ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ê²€ì¦"""
        if not value or len(value) != 13:
            raise ValidationException(
                code='ERR_102',
                message='ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ëŠ” 13ìë¦¬ì—¬ì•¼ í•©ë‹ˆë‹¤.',
                field='ssn'
            )
        # ì²´í¬ì„¬ ê²€ì¦ ë¡œì§ ì¶”ê°€
        return value

    def validate_phone(self, value):
        """ì „í™”ë²ˆí˜¸ í˜•ì‹ ê²€ì¦"""
        import re
        pattern = r'^01[016789]-?\d{3,4}-?\d{4}$'
        if not re.match(pattern, value):
            raise ValidationException(
                code='ERR_103',
                message='ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.',
                field='phone'
            )
        return value
```

---

#### 2.3.2 ë¡œê¹… ë ˆë²¨ ìµœì í™”

**ë¬¸ì œ**: ê°œë°œ/í”„ë¡œë•ì…˜ ë¡œê¹… ë ˆë²¨ ë¯¸ë¶„ë¦¬ ê°€ëŠ¥

**ê¶Œì¥ í•´ê²°ì±…**:
```python
# settings.py
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'formatters': {
        'verbose': {
            'format': '[{levelname}] {asctime} {module} {message}',
            'style': '{',
        },
    },
    'handlers': {
        'file': {
            'level': 'INFO' if not DEBUG else 'DEBUG',
            'class': 'logging.handlers.RotatingFileHandler',
            'filename': BASE_DIR / 'logs' / 'app.log',
            'maxBytes': 10485760,  # 10MB
            'backupCount': 30,
            'formatter': 'verbose',
        },
    },
    'loggers': {
        'django': {
            'handlers': ['file'],
            'level': 'INFO',
            'propagate': False,
        },
    },
}
```

---

#### 2.3.3 íƒ€ì„ì¡´ ì¼ê´€ì„± ê²€ì¦

**ë¬¸ì œ**: `auto_now_add`, `auto_now` í•„ë“œ íƒ€ì„ì¡´ ê²€ì¦ í•„ìš”

**í™•ì¸ í•„ìš”**:
```python
# settings.py
USE_TZ = True  # Trueì¸ì§€ í™•ì¸
TIME_ZONE = 'Asia/Seoul'  # ì„œìš¸ ì‹œê°„ëŒ€ í™•ì¸
```

**ê¶Œì¥ ì‚¬í•­**:
- ëª¨ë“  DateTimeì€ UTC ì €ì¥, í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¡œì»¬ ë³€í™˜
- `timezone.now()` ì‚¬ìš© (naive datetime ê¸ˆì§€)

---

## 3. ê°œì„  ê¶Œì¥ì‚¬í•­

### 3.1 ë°ì´í„° ë¬´ê²°ì„± ê°•í™”

**ìš°ì„ ìˆœìœ„ 1**: Foreign Key ë§ˆì´ê·¸ë ˆì´ì…˜

**ì‘ì—… ë‹¨ê³„**:
1. ë°±ì—… ìƒì„±
```bash
python manage.py dumpdata > backup_$(date +%Y%m%d).json
```

2. ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„±
```bash
python manage.py makemigrations --dry-run  # ë¯¸ë¦¬ë³´ê¸°
python manage.py makemigrations
```

3. SQL ê²€í† 
```bash
python manage.py sqlmigrate emr 0XXX  # ë§ˆì´ê·¸ë ˆì´ì…˜ ë²ˆí˜¸
```

4. í…ŒìŠ¤íŠ¸ DBì—ì„œ ê²€ì¦ í›„ ì ìš©
```bash
python manage.py migrate --database=test
python manage.py migrate  # ì‹¤ì œ ì ìš©
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2-4ì‹œê°„

---

### 3.2 ë§ˆìŠ¤í„° ë°ì´í„° ì‹œë”©

**ìš°ì„ ìˆœìœ„ 1**: í”„ë¡¬.md ì‘ì—… í•­ëª©

**ì‘ì—… ëŒ€ìƒ**:
1. `ocs.DiagnosisMaster`: ICD-10 ì§„ë‹¨ ì½”ë“œ (ì•½ 100ê°œ)
2. `ocs.MedicationMaster`: ì•½ë¬¼ ì½”ë“œ (ì•½ 200ê°œ)
3. `lis.LabTestMaster`: ê²€ì‚¬ í•­ëª© (ì•½ 50ê°œ)

**êµ¬í˜„ ë°©ë²•**:
```python
# emr/management/commands/seed_master_data.py
from django.core.management.base import BaseCommand
from ocs.models import DiagnosisMaster, MedicationMaster
import json

class Command(BaseCommand):
    help = 'ë§ˆìŠ¤í„° ë°ì´í„° ì‹œë”©'

    def handle(self, *args, **options):
        # CSV/JSONì—ì„œ ë¡œë“œ
        with open('data/diagnosis_master.json', 'r', encoding='utf-8') as f:
            diagnoses = json.load(f)

        for diag in diagnoses:
            DiagnosisMaster.objects.get_or_create(
                diag_code=diag['code'],
                defaults={
                    'diag_name_ko': diag['name_ko'],
                    'diag_name_en': diag['name_en'],
                    'category': diag['category']
                }
            )

        self.stdout.write(self.style.SUCCESS(f'Successfully loaded {len(diagnoses)} diagnoses'))
```

**ì‹¤í–‰**:
```bash
python manage.py seed_master_data
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 4-6ì‹œê°„ (ë°ì´í„° ìˆ˜ì§‘ í¬í•¨)

---

### 3.3 ì„±ëŠ¥ ìµœì í™”

**ìš°ì„ ìˆœìœ„ 2**: N+1 ì¿¼ë¦¬ ì œê±°

**ì ìš© ëŒ€ìƒ**:
- `emr.viewsets.EncounterViewSet`
- `emr.viewsets.OrderViewSet`
- `ris.views.RadiologyStudyViewSet`
- `ai.views.AIJobViewSet`

**ê²€ì¦ ë°©ë²•**:
```python
# Django Debug Toolbar ì„¤ì¹˜
pip install django-debug-toolbar

# settings.py
INSTALLED_APPS += ['debug_toolbar']
MIDDLEWARE.insert(0, 'debug_toolbar.middleware.DebugToolbarMiddleware')
INTERNAL_IPS = ['127.0.0.1']
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2-3ì‹œê°„

---

### 3.4 ë³´ì•ˆ ê°•í™”

**ìš°ì„ ìˆœìœ„ 2**: í™˜ê²½ ë³€ìˆ˜ ê²€ì¦

**ì‘ì—… ë‚´ìš©**:
1. `.env.example` ì™„ì„±ë„ ê²€ì¦
2. í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ë¡œì§ ì¶”ê°€
3. í”„ë¡œë•ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„±

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 1-2ì‹œê°„

---

## 4. ìš°ì„ ìˆœìœ„ë³„ ì‘ì—… ê³„íš

### Phase 1: ì¦‰ì‹œ í•´ê²° (1-2ì¼)

**ì‘ì—… 1**: ë§ˆìŠ¤í„° ë°ì´í„° ì‹œë”© â­â­â­
- ì§„ë‹¨ ì½”ë“œ 100ê°œ ìˆ˜ì§‘ ë° ì—…ë¡œë“œ
- ì•½ë¬¼ ì½”ë“œ 200ê°œ ìˆ˜ì§‘ ë° ì—…ë¡œë“œ
- ê²€ì‚¬ í•­ëª© 50ê°œ ìˆ˜ì§‘ ë° ì—…ë¡œë“œ
- Management Command ì‘ì„±

**ì‘ì—… 2**: Foreign Key ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤€ë¹„ â­â­â­
- ì˜í–¥ ë²”ìœ„ ë¶„ì„
- ë°±ì—… ì „ëµ ìˆ˜ë¦½
- ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± (ë¯¸ì ìš©)

**ì‘ì—… 3**: í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ë¡œì§ ì¶”ê°€ â­â­
- `require_env()` í•¨ìˆ˜ êµ¬í˜„
- í•„ìˆ˜ ë³€ìˆ˜ ë¦¬ìŠ¤íŠ¸ ì‘ì„±
- `.env.example` ì—…ë°ì´íŠ¸

---

### Phase 2: ìš°ì„  í•´ê²° (3-5ì¼)

**ì‘ì—… 4**: N+1 ì¿¼ë¦¬ ì œê±° â­â­
- Django Debug Toolbar ì„¤ì¹˜
- ì „ì²´ ViewSet ì¿¼ë¦¬ ìµœì í™”
- ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ì‘ì„±

**ì‘ì—… 5**: ì¸ë±ìŠ¤ ìµœì í™” â­â­
- Slow Query ë¶„ì„
- ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€
- EXPLAIN ê²°ê³¼ ê²€ì¦

**ì‘ì—… 6**: Serializer ê²€ì¦ ê°•í™” â­
- ì „í™”ë²ˆí˜¸, ì´ë©”ì¼, SSN ê²€ì¦
- ì»¤ìŠ¤í…€ Validator ì‘ì„±
- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€

---

### Phase 3: ê°œì„  ì‚¬í•­ (1ì£¼ì¼)

**ì‘ì—… 7**: ë¡œê¹… ì²´ê³„ ê³ ë„í™” â­
- ê°œë°œ/í”„ë¡œë•ì…˜ ë¡œê¹… ë ˆë²¨ ë¶„ë¦¬
- ë¡œê·¸ ë¡œí…Œì´ì…˜ ì •ì±… ê²€ì¦
- ë¯¼ê° ì •ë³´ ë§ˆìŠ¤í‚¹ í™•ì¸

**ì‘ì—… 8**: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í–¥ìƒ â­
- ìœ ë‹› í…ŒìŠ¤íŠ¸ ì‘ì„± (ëª©í‘œ: 80%)
- í†µí•© í…ŒìŠ¤íŠ¸ ì¶”ê°€
- CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

**ì‘ì—… 9**: ë¬¸ì„œ ì—…ë°ì´íŠ¸ â­
- ì½”ë“œ ì£¼ì„ ë³´ê°•
- API ë¬¸ì„œ ê°±ì‹ 
- ìš´ì˜ ê°€ì´ë“œ ì‘ì„±

---

## 5. ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ì¦‰ì‹œ ì‘ì—… ê°€ëŠ¥ (ì„œë²„ ë¶ˆí•„ìš”)

- [x] ì½”ë“œ ì •ì  ë¶„ì„ ì™„ë£Œ
- [ ] ë§ˆìŠ¤í„° ë°ì´í„° CSV/JSON íŒŒì¼ ì¤€ë¹„
- [ ] Management Command ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- [ ] Foreign Key ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± (dry-run)
- [ ] í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ë¡œì§ ì¶”ê°€
- [ ] `.env.example` ì—…ë°ì´íŠ¸
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸ (ì´ ë³´ê³ ì„œ í¬í•¨)

### ğŸ”„ ì„œë²„ í•„ìš” ì‘ì—…

- [ ] ë§ˆìŠ¤í„° ë°ì´í„° ì‹œë”© ì‹¤í–‰
- [ ] Django Debug Toolbar ì„¤ì¹˜ ë° ì¿¼ë¦¬ ë¶„ì„
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© (Foreign Key)
- [ ] ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰

---

## 6. ê²°ë¡ 

### 6.1 ì£¼ìš” ë°œê²¬ ì‚¬í•­

1. **ì™¸ë˜í‚¤ ë¬´ê²°ì„±**: CharFieldë¡œ ì •ì˜ëœ user_id í•„ë“œ â†’ ForeignKey ì „í™˜ í•„ìš”
2. **ë§ˆìŠ¤í„° ë°ì´í„° ë¶€ì¬**: ì§„ë‹¨/ì•½ë¬¼ ì½”ë“œ ë§ˆìŠ¤í„° í…Œì´ë¸” ë¹„ì–´ìˆìŒ â†’ ì‹œë”© í•„ìˆ˜
3. **ì„±ëŠ¥ ìµœì í™”**: N+1 ì¿¼ë¦¬, ì¸ë±ìŠ¤ ëˆ„ë½ ê°€ëŠ¥ì„± â†’ ê²€ì¦ í•„ìš”

### 6.2 ê¶Œì¥ ì‘ì—… ìˆœì„œ

1. **ë§ˆìŠ¤í„° ë°ì´í„° ì‹œë”©** (í”„ë¡¬.md ì‘ì—… í•­ëª©) â† ìµœìš°ì„ 
2. **í™˜ê²½ ë³€ìˆ˜ ê²€ì¦** ë¡œì§ ì¶”ê°€
3. **Foreign Key ë§ˆì´ê·¸ë ˆì´ì…˜** (ë°±ì—… í›„)
4. **ì„±ëŠ¥ ìµœì í™”** (N+1 ì¿¼ë¦¬ ì œê±°)
5. **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í–¥ìƒ**

### 6.3 ì˜ˆìƒ ì†Œìš” ê¸°ê°„

- **Phase 1** (ì¦‰ì‹œ í•´ê²°): 1-2ì¼
- **Phase 2** (ìš°ì„  í•´ê²°): 3-5ì¼
- **Phase 3** (ê°œì„  ì‚¬í•­): 1ì£¼ì¼

**ì´ ì˜ˆìƒ ê¸°ê°„**: ì•½ 2ì£¼

---

**ë‹¤ìŒ ì‘ì—…**: ë§ˆìŠ¤í„° ë°ì´í„° ì‹œë”© ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ë° CSV/JSON íŒŒì¼ ì¤€ë¹„

**ê´€ë ¨ ë¬¸ì„œ**:
- [16_ë°ì´í„°_ì‹œë”©_ê°€ì´ë“œ.md](16_ë°ì´í„°_ì‹œë”©_ê°€ì´ë“œ.md)
- [27_ë°ì´í„°_ê²€ì¦_ì •ì±….md](27_ë°ì´í„°_ê²€ì¦_ì •ì±….md)
- [30_ì„±ëŠ¥_ìµœì í™”_ê°€ì´ë“œ.md](30_ì„±ëŠ¥_ìµœì í™”_ê°€ì´ë“œ.md)
