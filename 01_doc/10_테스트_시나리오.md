# CDSS í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

**ì‘ì„±ì¼**: 2025-12-19
**ë²„ì „**: 1.0

---

## ğŸ“‹ ëª©ì°¨

1. [í…ŒìŠ¤íŠ¸ ì „ëµ](#1-í…ŒìŠ¤íŠ¸-ì „ëµ)
2. [ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Test)](#2-ë‹¨ìœ„-í…ŒìŠ¤íŠ¸-unit-test)
3. [í†µí•© í…ŒìŠ¤íŠ¸ (Integration Test)](#3-í†µí•©-í…ŒìŠ¤íŠ¸-integration-test)
4. [E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤](#4-e2e-í…ŒìŠ¤íŠ¸-ì‹œë‚˜ë¦¬ì˜¤)
5. [ì—­í• ë³„ ì‚¬ìš©ì í”Œë¡œìš° í…ŒìŠ¤íŠ¸](#5-ì—­í• ë³„-ì‚¬ìš©ì-í”Œë¡œìš°-í…ŒìŠ¤íŠ¸)
6. [ì„±ëŠ¥ í…ŒìŠ¤íŠ¸](#6-ì„±ëŠ¥-í…ŒìŠ¤íŠ¸)
7. [ë³´ì•ˆ í…ŒìŠ¤íŠ¸](#7-ë³´ì•ˆ-í…ŒìŠ¤íŠ¸)
8. [í…ŒìŠ¤íŠ¸ ë°ì´í„°](#8-í…ŒìŠ¤íŠ¸-ë°ì´í„°)

---

## 1. í…ŒìŠ¤íŠ¸ ì „ëµ

### í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ

```
        /\
       /E2E\         (10% - ëŠë¦¬ì§€ë§Œ í¬ê´„ì )
      /------\
     /  í†µí•©  \       (30% - API ë° ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™)
    /----------\
   /   ë‹¨ìœ„    \     (60% - ë¹ ë¥´ê³  êµ¬ì²´ì )
  /--------------\
```

### í…ŒìŠ¤íŠ¸ ë„êµ¬

| í…ŒìŠ¤íŠ¸ ìœ í˜• | Backend (Django) | Frontend (React) | Flutter |
|---|---|---|---|
| ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | pytest | Vitest | flutter_test |
| í†µí•© í…ŒìŠ¤íŠ¸ | pytest-django | Vitest + MSW | integration_test |
| E2E í…ŒìŠ¤íŠ¸ | Playwright | Playwright | integration_test |
| API í…ŒìŠ¤íŠ¸ | Postman / pytest | Axios + Jest | Dio + Mockito |
| ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ | Locust | Lighthouse | Flutter DevTools |

### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
- **ì „ì²´**: 80% ì´ìƒ
- **í•µì‹¬ ë¡œì§**: 90% ì´ìƒ
- **UC1 (ì¸ì¦/ê¶Œí•œ)**: 95% ì´ìƒ (ë³´ì•ˆ ì¤‘ìš”)

---

## 2. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Test)

### 2.1 Backend (Django) ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

#### UC1 - ACCT (ì¸ì¦/ê¶Œí•œ) í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `tests/unit/test_auth.py`

```python
import pytest
from acct.services import AuthService
from acct.models import User, Role

class TestAuthService:
    """ì¸ì¦ ì„œë¹„ìŠ¤ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸"""

    def test_login_success(self, db):
        """ë¡œê·¸ì¸ ì„±ê³µ í…ŒìŠ¤íŠ¸"""
        # Given: ì‚¬ìš©ì ìƒì„±
        user = User.objects.create_user(
            username='dr.kim',
            password='SecureP@ss123',
            role='doctor'
        )

        # When: ë¡œê·¸ì¸ ì‹œë„
        result = AuthService.login('dr.kim', 'SecureP@ss123')

        # Then: í† í° ë°œê¸‰ í™•ì¸
        assert result['access'] is not None
        assert result['refresh'] is not None
        assert result['user']['username'] == 'dr.kim'
        assert result['user']['role'] == 'doctor'

    def test_login_invalid_credentials(self, db):
        """ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸"""
        # Given: ì‚¬ìš©ì ìƒì„±
        user = User.objects.create_user(
            username='dr.kim',
            password='SecureP@ss123'
        )

        # When & Then: ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸ ì‹œë„
        with pytest.raises(AuthenticationFailed):
            AuthService.login('dr.kim', 'WrongPassword')

    def test_login_account_locked_after_5_failures(self, db):
        """5íšŒ ì‹¤íŒ¨ í›„ ê³„ì • ì ê¸ˆ í…ŒìŠ¤íŠ¸"""
        # Given: ì‚¬ìš©ì ìƒì„±
        user = User.objects.create_user(
            username='dr.kim',
            password='SecureP@ss123'
        )

        # When: 5íšŒ ë¡œê·¸ì¸ ì‹¤íŒ¨
        for i in range(5):
            try:
                AuthService.login('dr.kim', 'WrongPassword')
            except:
                pass

        # Then: ê³„ì • ì ê¸ˆ í™•ì¸
        user.refresh_from_db()
        assert user.is_locked is True
        assert user.locked_until > timezone.now()

    def test_check_permission_doctor_can_create_order(self, db):
        """Doctor ì—­í• ì€ order.create ê¶Œí•œ ìˆìŒ"""
        # Given: Doctor ì—­í•  ì‚¬ìš©ì
        user = User.objects.create_user(
            username='dr.kim',
            role='doctor'
        )

        # When: ê¶Œí•œ ì²´í¬
        has_permission = AuthService.check_permission(user, 'order.create')

        # Then: ê¶Œí•œ ìˆìŒ
        assert has_permission is True

    def test_check_permission_nurse_cannot_create_order(self, db):
        """Nurse ì—­í• ì€ order.create ê¶Œí•œ ì—†ìŒ"""
        # Given: Nurse ì—­í•  ì‚¬ìš©ì
        user = User.objects.create_user(
            username='nurse.park',
            role='nurse'
        )

        # When: ê¶Œí•œ ì²´í¬
        has_permission = AuthService.check_permission(user, 'order.create')

        # Then: ê¶Œí•œ ì—†ìŒ
        assert has_permission is False
```

---

#### UC5 - RIS (ì˜ìƒì˜í•™) í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `tests/unit/test_ris_service.py`

```python
import pytest
from ris.services import RadiologyService
from ris.models import RadiologyOrder, RadiologyStudy

class TestRadiologyService:
    """ì˜ìƒì˜í•™ ì„œë¹„ìŠ¤ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸"""

    def test_create_radiology_order(self, db, doctor_user):
        """ì˜ìƒ ì˜¤ë” ìƒì„± í…ŒìŠ¤íŠ¸"""
        # Given: í™˜ì ì •ë³´
        patient_id = 'P-2024-001234'

        # When: ì˜ìƒ ì˜¤ë” ìƒì„±
        order = RadiologyService.create_order(
            patient_id=patient_id,
            ordered_by=doctor_user,
            modality_type='MRI',
            body_part='Brain',
            clinical_info='ë‘í†µ, ì–´ì§€ëŸ¬ì›€'
        )

        # Then: ì˜¤ë” ìƒì„± í™•ì¸
        assert order.order_id is not None
        assert order.modality_type == 'MRI'
        assert order.status == 'scheduled'

    def test_orthanc_study_sync(self, db, mock_orthanc_client):
        """Orthanc ìŠ¤í„°ë”” ë™ê¸°í™” í…ŒìŠ¤íŠ¸"""
        # Given: Orthanc ìŠ¤í„°ë”” ì •ë³´
        orthanc_study_id = 'a1b2c3d4-e5f6-4a5b-8c7d-9e8f7a6b5c4d'
        study_instance_uid = '1.2.840.113619.2.55.1.1234567890.123456'

        # When: ìŠ¤í„°ë”” ë™ê¸°í™”
        study = RadiologyService.sync_study_from_orthanc(
            orthanc_study_id=orthanc_study_id,
            study_instance_uid=study_instance_uid
        )

        # Then: ìŠ¤í„°ë”” ìƒì„± í™•ì¸
        assert study.orthanc_study_id == orthanc_study_id
        assert study.study_instance_uid == study_instance_uid
        assert study.wado_url is not None
```

---

### 2.2 Frontend (React) ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

#### ë¡œê·¸ì¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `tests/unit/Login.test.tsx`

```typescript
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import { describe, it, expect, vi } from 'vitest';
import Login from '../components/Login';
import { useAuthStore } from '../stores/authStore';

describe('Login Component', () => {
  it('ë¡œê·¸ì¸ í¼ ë Œë”ë§', () => {
    render(<Login />);

    expect(screen.getByLabelText('ì•„ì´ë””')).toBeInTheDocument();
    expect(screen.getByLabelText('ë¹„ë°€ë²ˆí˜¸')).toBeInTheDocument();
    expect(screen.getByRole('button', { name: 'ë¡œê·¸ì¸' })).toBeInTheDocument();
  });

  it('ë¹ˆ í¼ ì œì¶œ ì‹œ ìœ íš¨ì„± ê²€ì¦ ì—ëŸ¬', async () => {
    render(<Login />);

    const submitButton = screen.getByRole('button', { name: 'ë¡œê·¸ì¸' });
    fireEvent.click(submitButton);

    await waitFor(() => {
      expect(screen.getByText('ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”')).toBeInTheDocument();
      expect(screen.getByText('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”')).toBeInTheDocument();
    });
  });

  it('ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ëŒ€ì‹œë³´ë“œë¡œ ë¦¬ë””ë ‰ì…˜', async () => {
    const mockLogin = vi.fn().mockResolvedValue({
      user: { username: 'dr.kim', role: 'doctor' },
      token: 'mock-token'
    });

    vi.spyOn(useAuthStore, 'getState').mockReturnValue({
      login: mockLogin
    } as any);

    render(<Login />);

    fireEvent.change(screen.getByLabelText('ì•„ì´ë””'), {
      target: { value: 'dr.kim' }
    });
    fireEvent.change(screen.getByLabelText('ë¹„ë°€ë²ˆí˜¸'), {
      target: { value: 'SecureP@ss123' }
    });

    fireEvent.click(screen.getByRole('button', { name: 'ë¡œê·¸ì¸' }));

    await waitFor(() => {
      expect(mockLogin).toHaveBeenCalledWith({
        username: 'dr.kim',
        password: 'SecureP@ss123'
      });
    });
  });

  it('ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ', async () => {
    const mockLogin = vi.fn().mockRejectedValue(new Error('Invalid credentials'));

    vi.spyOn(useAuthStore, 'getState').mockReturnValue({
      login: mockLogin
    } as any);

    render(<Login />);

    fireEvent.change(screen.getByLabelText('ì•„ì´ë””'), {
      target: { value: 'dr.kim' }
    });
    fireEvent.change(screen.getByLabelText('ë¹„ë°€ë²ˆí˜¸'), {
      target: { value: 'WrongPassword' }
    });

    fireEvent.click(screen.getByRole('button', { name: 'ë¡œê·¸ì¸' }));

    await waitFor(() => {
      expect(screen.getByText('ë¡œê·¸ì¸ ì‹¤íŒ¨: ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.')).toBeInTheDocument();
    });
  });
});
```

---

#### Zustand ìŠ¤í† ì–´ í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `tests/unit/authStore.test.ts`

```typescript
import { describe, it, expect, beforeEach } from 'vitest';
import { useAuthStore } from '../stores/authStore';

describe('Auth Store', () => {
  beforeEach(() => {
    useAuthStore.setState({
      user: null,
      token: null,
      isAuthenticated: false
    });
  });

  it('ì´ˆê¸° ìƒíƒœ', () => {
    const { user, token, isAuthenticated } = useAuthStore.getState();

    expect(user).toBeNull();
    expect(token).toBeNull();
    expect(isAuthenticated).toBe(false);
  });

  it('ë¡œê·¸ì¸ í›„ ìƒíƒœ ì—…ë°ì´íŠ¸', async () => {
    const { login } = useAuthStore.getState();

    await login({ username: 'dr.kim', password: 'SecureP@ss123' });

    const { user, token, isAuthenticated } = useAuthStore.getState();

    expect(user).not.toBeNull();
    expect(user?.username).toBe('dr.kim');
    expect(user?.role).toBe('doctor');
    expect(token).not.toBeNull();
    expect(isAuthenticated).toBe(true);
  });

  it('ë¡œê·¸ì•„ì›ƒ í›„ ìƒíƒœ ì´ˆê¸°í™”', () => {
    useAuthStore.setState({
      user: { username: 'dr.kim', role: 'doctor' },
      token: 'mock-token',
      isAuthenticated: true
    });

    const { logout } = useAuthStore.getState();
    logout();

    const { user, token, isAuthenticated } = useAuthStore.getState();

    expect(user).toBeNull();
    expect(token).toBeNull();
    expect(isAuthenticated).toBe(false);
  });

  it('ê¶Œí•œ ì²´í¬ - DoctorëŠ” order.create ê°€ëŠ¥', () => {
    useAuthStore.setState({
      user: {
        username: 'dr.kim',
        role: 'doctor',
        permissions: ['order.create', 'patient.view']
      },
      isAuthenticated: true
    });

    const { checkPermission } = useAuthStore.getState();

    expect(checkPermission('order.create')).toBe(true);
  });

  it('ê¶Œí•œ ì²´í¬ - NurseëŠ” order.create ë¶ˆê°€ëŠ¥', () => {
    useAuthStore.setState({
      user: {
        username: 'nurse.park',
        role: 'nurse',
        permissions: ['patient.view']
      },
      isAuthenticated: true
    });

    const { checkPermission } = useAuthStore.getState();

    expect(checkPermission('order.create')).toBe(false);
  });
});
```

---

## 3. í†µí•© í…ŒìŠ¤íŠ¸ (Integration Test)

### 3.1 API ì—”ë“œí¬ì¸íŠ¸ í†µí•© í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `tests/integration/test_api_endpoints.py`

```python
import pytest
from rest_framework.test import APIClient
from acct.models import User

class TestAPIEndpoints:
    """API ì—”ë“œí¬ì¸íŠ¸ í†µí•© í…ŒìŠ¤íŠ¸"""

    @pytest.fixture
    def api_client(self):
        return APIClient()

    @pytest.fixture
    def doctor_user(self, db):
        return User.objects.create_user(
            username='dr.kim',
            password='SecureP@ss123',
            role='doctor'
        )

    def test_login_api(self, api_client):
        """POST /api/acct/login/ - ë¡œê·¸ì¸ API í…ŒìŠ¤íŠ¸"""
        # When: ë¡œê·¸ì¸ ìš”ì²­
        response = api_client.post('/api/acct/login/', {
            'username': 'dr.kim',
            'password': 'SecureP@ss123'
        })

        # Then: 200 OK, í† í° ë°œê¸‰
        assert response.status_code == 200
        assert 'access' in response.data
        assert 'refresh' in response.data
        assert response.data['user']['role'] == 'doctor'

    def test_patient_search_api_with_auth(self, api_client, doctor_user):
        """GET /api/emr/patients/search/ - í™˜ì ê²€ìƒ‰ API (ì¸ì¦ í•„ìš”)"""
        # Given: ë¡œê·¸ì¸í•˜ì—¬ í† í° íšë“
        login_response = api_client.post('/api/acct/login/', {
            'username': 'dr.kim',
            'password': 'SecureP@ss123'
        })
        token = login_response.data['access']

        # When: í™˜ì ê²€ìƒ‰ (ì¸ì¦ í—¤ë” í¬í•¨)
        api_client.credentials(HTTP_AUTHORIZATION=f'Bearer {token}')
        response = api_client.get('/api/emr/patients/search/', {'q': 'ê¹€ì² ìˆ˜'})

        # Then: 200 OK, ê²€ìƒ‰ ê²°ê³¼ ë°˜í™˜
        assert response.status_code == 200
        assert 'results' in response.data

    def test_patient_search_api_without_auth(self, api_client):
        """í™˜ì ê²€ìƒ‰ API - ì¸ì¦ ì—†ì´ í˜¸ì¶œ ì‹œ 401"""
        # When: ì¸ì¦ ì—†ì´ í™˜ì ê²€ìƒ‰
        response = api_client.get('/api/emr/patients/search/', {'q': 'ê¹€ì² ìˆ˜'})

        # Then: 401 Unauthorized
        assert response.status_code == 401

    def test_create_order_api_doctor_only(self, api_client, doctor_user, nurse_user):
        """POST /api/ocs/orders/ - ì²˜ë°© ìƒì„± (Doctorë§Œ ê°€ëŠ¥)"""
        # Given: Doctor ë¡œê·¸ì¸
        login_response = api_client.post('/api/acct/login/', {
            'username': 'dr.kim',
            'password': 'SecureP@ss123'
        })
        doctor_token = login_response.data['access']

        # When: ì²˜ë°© ìƒì„± (Doctor)
        api_client.credentials(HTTP_AUTHORIZATION=f'Bearer {doctor_token}')
        response = api_client.post('/api/ocs/orders/', {
            'patientId': 'P-2024-001234',
            'orderType': 'medication',
            'orderItems': [
                {
                    'drugCode': 'DRG-001',
                    'drugName': 'ì•„ìŠ¤í”¼ë¦° 100mg',
                    'dosage': '1ì •',
                    'frequency': '1ì¼ 1íšŒ'
                }
            ]
        })

        # Then: 201 Created
        assert response.status_code == 201

        # Given: Nurse ë¡œê·¸ì¸
        nurse_login = api_client.post('/api/acct/login/', {
            'username': 'nurse.park',
            'password': 'SecureP@ss123'
        })
        nurse_token = nurse_login.data['access']

        # When: ì²˜ë°© ìƒì„± ì‹œë„ (Nurse)
        api_client.credentials(HTTP_AUTHORIZATION=f'Bearer {nurse_token}')
        response = api_client.post('/api/ocs/orders/', {
            'patientId': 'P-2024-001234',
            'orderType': 'medication',
            'orderItems': []
        })

        # Then: 403 Forbidden
        assert response.status_code == 403
```

---

### 3.2 ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `tests/integration/test_external_systems.py`

```python
import pytest
from emr.clients import OpenEMRClient
from ris.clients import OrthancClient
from fhir.clients import FHIRClient

class TestExternalSystems:
    """ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ í†µí•© í…ŒìŠ¤íŠ¸"""

    def test_openemr_patient_fetch(self, mock_openemr_server):
        """OpenEMR í™˜ì ì¡°íšŒ í…ŒìŠ¤íŠ¸"""
        # Given: OpenEMR Client
        client = OpenEMRClient()

        # When: í™˜ì ì¡°íšŒ
        patient = client.get_patient('openemr-patient-123')

        # Then: í™˜ì ì •ë³´ ë°˜í™˜
        assert patient['family_name'] == 'ê¹€'
        assert patient['given_name'] == 'ì² ìˆ˜'
        assert patient['birth_date'] == '1980-05-15'

    def test_orthanc_dicom_upload(self, mock_orthanc_server):
        """Orthanc DICOM ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸"""
        # Given: Orthanc Client
        client = OrthancClient()

        # When: DICOM íŒŒì¼ ì—…ë¡œë“œ
        with open('tests/fixtures/sample.dcm', 'rb') as f:
            result = client.upload_dicom(f)

        # Then: ì—…ë¡œë“œ ì„±ê³µ, Study ID ë°˜í™˜
        assert result['study_id'] is not None
        assert result['status'] == 'success'

    def test_hapi_fhir_patient_create(self, mock_fhir_server):
        """HAPI FHIR Patient ë¦¬ì†ŒìŠ¤ ìƒì„± í…ŒìŠ¤íŠ¸"""
        # Given: FHIR Client
        client = FHIRClient()

        # When: Patient ë¦¬ì†ŒìŠ¤ ìƒì„±
        patient_resource = {
            'resourceType': 'Patient',
            'name': [{'family': 'ê¹€', 'given': ['ì² ìˆ˜']}],
            'gender': 'male',
            'birthDate': '1980-05-15'
        }
        result = client.create_resource(patient_resource)

        # Then: ìƒì„± ì„±ê³µ, FHIR ID ë°˜í™˜
        assert result['id'] is not None
        assert result['resourceType'] == 'Patient'
```

---

## 4. E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 4.1 Playwright E2E í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `tests/e2e/doctor-workflow.spec.ts`

```typescript
import { test, expect } from '@playwright/test';

test.describe('Doctor ì›Œí¬í”Œë¡œìš°', () => {
  test('ë¡œê·¸ì¸ â†’ í™˜ì ê²€ìƒ‰ â†’ ì˜ìƒ ì˜¤ë” â†’ AI ë¶„ì„ ìš”ì²­', async ({ page }) => {
    // 1. ë¡œê·¸ì¸
    await page.goto('http://localhost:3000/login');
    await page.fill('input[name="username"]', 'dr.kim');
    await page.fill('input[name="password"]', 'SecureP@ss123');
    await page.click('button[type="submit"]');

    // ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ë¡œ ì´ë™ í™•ì¸
    await expect(page).toHaveURL('http://localhost:3000/dashboard');
    await expect(page.locator('text=ê¹€ì˜ì‚¬ ë‹˜')).toBeVisible();

    // 2. í™˜ì ê²€ìƒ‰
    await page.click('text=í™˜ì ê²€ìƒ‰');
    await page.fill('input[placeholder="í™˜ì ì´ë¦„ ë˜ëŠ” ID"]', 'ê¹€ì² ìˆ˜');
    await page.click('button:has-text("ê²€ìƒ‰")');

    // ê²€ìƒ‰ ê²°ê³¼ í™•ì¸
    await expect(page.locator('text=ê¹€ì² ìˆ˜')).toBeVisible();
    await page.click('text=ê¹€ì² ìˆ˜');

    // 3. í™˜ì ìƒì„¸ í˜ì´ì§€
    await expect(page).toHaveURL(/.*patients\/P-2024-001234/);
    await expect(page.locator('text=ìƒë…„ì›”ì¼: 1980-05-15')).toBeVisible();

    // 4. ì˜ìƒ ì˜¤ë” ìƒì„±
    await page.click('button:has-text("ì˜ìƒ ì˜¤ë”")');
    await page.selectOption('select[name="modalityType"]', 'MRI');
    await page.selectOption('select[name="bodyPart"]', 'Brain');
    await page.fill('textarea[name="clinicalInfo"]', 'ë‘í†µ, ì–´ì§€ëŸ¬ì›€');
    await page.click('button:has-text("ì˜¤ë” ì œì¶œ")');

    // ì˜¤ë” ìƒì„± í™•ì¸
    await expect(page.locator('text=ì˜ìƒ ì˜¤ë”ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤')).toBeVisible();

    // 5. ì˜ìƒ ì¡°íšŒ (ìŠ¤í„°ë”” ì—…ë¡œë“œ í›„)
    await page.click('text=ì˜ìƒ ì¡°íšŒ');
    await expect(page.locator('text=MRI Brain')).toBeVisible();
    await page.click('text=MRI Brain');

    // DICOM ë·°ì–´ ë¡œë“œ í™•ì¸
    await expect(page.locator('.dicom-viewer')).toBeVisible();

    // 6. AI ë¶„ì„ ìš”ì²­
    await page.click('button:has-text("AI ë¶„ì„ ìš”ì²­")');
    await page.selectOption('select[name="analysisType"]', 'mri_tumor_detection');
    await page.click('button:has-text("ë¶„ì„ ì‹œì‘")');

    // AI ì‘ì—… ëŒ€ê¸° (í´ë§)
    await expect(page.locator('text=AI ë¶„ì„ ì¤‘...')).toBeVisible();

    // AI ê²°ê³¼ í™•ì¸ (ìµœëŒ€ 2ë¶„ ëŒ€ê¸°)
    await expect(page.locator('text=AI ë¶„ì„ ì™„ë£Œ')).toBeVisible({ timeout: 120000 });

    // 7. AI ê²°ê³¼ í™•ì¸
    await page.click('text=ê²°ê³¼ ë³´ê¸°');
    await expect(page.locator('text=ì¢…ì–‘ ê°ì§€: ì¢Œì¸¡ ë‘ì •ì—½')).toBeVisible();
    await expect(page.locator('text=ì‹ ë¢°ë„: 92%')).toBeVisible();

    // 8. AI ê²°ê³¼ ìŠ¹ì¸
    await page.click('button:has-text("ê²°ê³¼ ìŠ¹ì¸")');
    await page.fill('textarea[name="comments"]', 'AI ë¶„ì„ ê²°ê³¼ í™•ì¸. ì¡°ì§ê²€ì‚¬ ê¶Œê³ ');
    await page.click('button:has-text("ìŠ¹ì¸")');

    // ìŠ¹ì¸ ì™„ë£Œ í™•ì¸
    await expect(page.locator('text=AI ê²°ê³¼ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤')).toBeVisible();
  });
});
```

---

### 4.2 Patient ì›Œí¬í”Œë¡œìš° (Flutter E2E í…ŒìŠ¤íŠ¸)

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `integration_test/patient_workflow_test.dart`

```dart
import 'package:flutter_test/flutter_test.dart';
import 'package:integration_test/integration_test.dart';
import 'package:cdss_patient_app/main.dart' as app;

void main() {
  IntegrationTestWidgetsFlutterBinding.ensureInitialized();

  group('Patient ì›Œí¬í”Œë¡œìš°', () {
    testWidgets('ë¡œê·¸ì¸ â†’ ì§„ë£Œ ë‚´ì—­ ì¡°íšŒ â†’ ì˜ˆì•½ ì‹ ì²­', (WidgetTester tester) async {
      app.main();
      await tester.pumpAndSettle();

      // 1. ë¡œê·¸ì¸ í™”ë©´
      expect(find.text('CDSS í™˜ì ì•±'), findsOneWidget);

      await tester.enterText(find.byKey(Key('username-field')), 'patient.kim');
      await tester.enterText(find.byKey(Key('password-field')), 'PatientP@ss123');
      await tester.tap(find.text('ë¡œê·¸ì¸'));
      await tester.pumpAndSettle();

      // 2. í™ˆ í™”ë©´
      expect(find.text('ê¹€ì² ìˆ˜ ë‹˜'), findsOneWidget);

      // 3. ì§„ë£Œ ë‚´ì—­ íƒ­
      await tester.tap(find.text('ì§„ë£Œ ë‚´ì—­'));
      await tester.pumpAndSettle();

      expect(find.text('2025-12-10 ì‹ ê²½ì™¸ê³¼'), findsOneWidget);

      // 4. ì§„ë£Œ ìƒì„¸ í™•ì¸
      await tester.tap(find.text('2025-12-10 ì‹ ê²½ì™¸ê³¼'));
      await tester.pumpAndSettle();

      expect(find.text('ì§„ë‹¨: í¸ë‘í†µ ì˜ì‹¬'), findsOneWidget);
      expect(find.text('ë‹´ë‹¹ì˜: ê¹€ì˜ì‚¬'), findsOneWidget);

      // 5. ì˜ˆì•½ íƒ­ìœ¼ë¡œ ì´ë™
      await tester.tap(find.text('ì˜ˆì•½'));
      await tester.pumpAndSettle();

      // 6. ìƒˆ ì˜ˆì•½ ì‹ ì²­
      await tester.tap(find.byKey(Key('new-appointment-button')));
      await tester.pumpAndSettle();

      await tester.tap(find.text('ì‹ ê²½ì™¸ê³¼'));
      await tester.tap(find.text('ë‹¤ìŒ'));
      await tester.pumpAndSettle();

      // ë‚ ì§œ ì„ íƒ
      await tester.tap(find.text('2025-12-25'));
      await tester.tap(find.text('í™•ì¸'));
      await tester.pumpAndSettle();

      // ì‹œê°„ ì„ íƒ
      await tester.tap(find.text('14:00'));
      await tester.tap(find.text('ì˜ˆì•½ ì‹ ì²­'));
      await tester.pumpAndSettle();

      // 7. ì˜ˆì•½ ì™„ë£Œ í™•ì¸
      expect(find.text('ì˜ˆì•½ì´ ì‹ ì²­ë˜ì—ˆìŠµë‹ˆë‹¤'), findsOneWidget);
    });

    testWidgets('í‘¸ì‹œ ì•Œë¦¼ ìˆ˜ì‹  í…ŒìŠ¤íŠ¸', (WidgetTester tester) async {
      app.main();
      await tester.pumpAndSettle();

      // ë¡œê·¸ì¸
      await tester.enterText(find.byKey(Key('username-field')), 'patient.kim');
      await tester.enterText(find.byKey(Key('password-field')), 'PatientP@ss123');
      await tester.tap(find.text('ë¡œê·¸ì¸'));
      await tester.pumpAndSettle();

      // í‘¸ì‹œ ì•Œë¦¼ ì‹œë®¬ë ˆì´ì…˜ (Backendì—ì„œ ì „ì†¡)
      // ... (FCM í…ŒìŠ¤íŠ¸ ì½”ë“œ)

      // ì•Œë¦¼ ì•„ì´ì½˜ í™•ì¸
      expect(find.byIcon(Icons.notifications), findsOneWidget);

      // ì•Œë¦¼ íƒ­
      await tester.tap(find.byIcon(Icons.notifications));
      await tester.pumpAndSettle();

      // ì•Œë¦¼ ë‚´ìš© í™•ì¸
      expect(find.text('ê²€ì‚¬ ê²°ê³¼ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤'), findsOneWidget);
    });
  });
}
```

---

## 5. ì—­í• ë³„ ì‚¬ìš©ì í”Œë¡œìš° í…ŒìŠ¤íŠ¸

### 5.1 Admin (ê´€ë¦¬ì) í”Œë¡œìš°

**ì‹œë‚˜ë¦¬ì˜¤**: ìƒˆ ì‚¬ìš©ì ìƒì„± ë° ì—­í•  ë¶€ì—¬

| ë‹¨ê³„ | ì•¡ì…˜ | ì˜ˆìƒ ê²°ê³¼ |
|---|---|---|
| 1 | Adminìœ¼ë¡œ ë¡œê·¸ì¸ | ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ |
| 2 | ì‚¬ìš©ì ê´€ë¦¬ ë©”ë‰´ í´ë¦­ | ì‚¬ìš©ì ëª©ë¡ í‘œì‹œ |
| 3 | "ìƒˆ ì‚¬ìš©ì ì¶”ê°€" ë²„íŠ¼ í´ë¦­ | ì‚¬ìš©ì ìƒì„± í¼ í‘œì‹œ |
| 4 | ì‚¬ìš©ì ì •ë³´ ì…ë ¥ (username, email, ì—­í• ) | ì…ë ¥ í•„ë“œ í™œì„±í™” |
| 5 | "ìƒì„±" ë²„íŠ¼ í´ë¦­ | ì‚¬ìš©ì ìƒì„± ì„±ê³µ ë©”ì‹œì§€ |
| 6 | ì‚¬ìš©ì ëª©ë¡ì—ì„œ ìƒˆ ì‚¬ìš©ì í™•ì¸ | ìƒˆ ì‚¬ìš©ì í‘œì‹œë¨ |
| 7 | ê°ì‚¬ ë¡œê·¸ í™•ì¸ | Adminì˜ "create user" ë¡œê·¸ ê¸°ë¡ë¨ |

---

### 5.2 Doctor (ì˜ì‚¬) í”Œë¡œìš°

**ì‹œë‚˜ë¦¬ì˜¤**: í™˜ì ì§„ë£Œ â†’ ì˜ìƒ ì˜¤ë” â†’ AI ë¶„ì„ â†’ íŒë…ë¬¸ ì„œëª…

| ë‹¨ê³„ | ì•¡ì…˜ | ì˜ˆìƒ ê²°ê³¼ |
|---|---|---|
| 1 | Doctorë¡œ ë¡œê·¸ì¸ | ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ |
| 2 | í™˜ì ê²€ìƒ‰ (ê¹€ì² ìˆ˜) | ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ |
| 3 | í™˜ì ìƒì„¸ í˜ì´ì§€ ì§„ì… | í™˜ì ì •ë³´, ì§„ë£Œ ê¸°ë¡ íƒ€ì„ë¼ì¸ í‘œì‹œ |
| 4 | "ìƒˆ ì§„ë£Œ" ë²„íŠ¼ í´ë¦­ | ì§„ë£Œ ê¸°ë¡ ì…ë ¥ í¼ í‘œì‹œ |
| 5 | ì£¼ í˜¸ì†Œ, ì§„ë‹¨ëª… ì…ë ¥ | ì…ë ¥ ì™„ë£Œ |
| 6 | "ì˜ìƒ ì˜¤ë”" ë²„íŠ¼ í´ë¦­ | ì˜ìƒ ì˜¤ë” í¼ í‘œì‹œ |
| 7 | MRI Brain ì˜¤ë” ìƒì„± | ì˜¤ë” ìƒì„± ì„±ê³µ |
| 8 | ì˜ìƒ ì´¬ì˜ í›„ ìŠ¤í„°ë”” ì¡°íšŒ | DICOM ë·°ì–´ ë¡œë“œ |
| 9 | "AI ë¶„ì„ ìš”ì²­" ë²„íŠ¼ í´ë¦­ | AI ì‘ì—… íì— ë“±ë¡ |
| 10 | AI ë¶„ì„ ì™„ë£Œ ëŒ€ê¸° (í´ë§) | ì§„í–‰ë¥  í‘œì‹œ (0% â†’ 100%) |
| 11 | AI ê²°ê³¼ ì¡°íšŒ | ì¢…ì–‘ ìœ„ì¹˜, ì‹ ë¢°ë„ í‘œì‹œ |
| 12 | AI ê²°ê³¼ ìŠ¹ì¸ | ìŠ¹ì¸ ì™„ë£Œ, íŒë…ë¬¸ ì‘ì„± ê°€ëŠ¥ |
| 13 | íŒë…ë¬¸ ì‘ì„± (ì†Œê²¬, íŒë… ì˜ê²¬) | íŒë…ë¬¸ ì €ì¥ |
| 14 | íŒë…ë¬¸ ì „ìì„œëª… | ì„œëª… ì™„ë£Œ, ìƒíƒœ "final"ë¡œ ë³€ê²½ |

---

### 5.3 RIB (ë°©ì‚¬ì„ ê³¼) í”Œë¡œìš°

**ì‹œë‚˜ë¦¬ì˜¤**: ì˜ìƒ ì˜¤ë” í™•ì¸ â†’ DICOM ì—…ë¡œë“œ

| ë‹¨ê³„ | ì•¡ì…˜ | ì˜ˆìƒ ê²°ê³¼ |
|---|---|---|
| 1 | RIBë¡œ ë¡œê·¸ì¸ | ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ |
| 2 | ì˜ìƒ ì˜¤ë” ëª©ë¡ ì¡°íšŒ | ëŒ€ê¸° ì¤‘ì¸ ì˜¤ë” ëª©ë¡ í‘œì‹œ |
| 3 | ì˜¤ë” ì„ íƒ (MRI Brain, ê¹€ì² ìˆ˜) | ì˜¤ë” ìƒì„¸ ì •ë³´ í‘œì‹œ |
| 4 | DICOM íŒŒì¼ ì—…ë¡œë“œ (Drag & Drop) | ì—…ë¡œë“œ ì§„í–‰ë¥  í‘œì‹œ |
| 5 | Orthanc ì—°ë™ ì„±ê³µ | Study ìƒì„±, Study ID í‘œì‹œ |
| 6 | ì˜ìƒ ì •í•©ì„± 1ì°¨ í™•ì¸ | "ì •í•©ì„± í™•ì¸ ì™„ë£Œ" ë²„íŠ¼ í´ë¦­ |
| 7 | ì˜¤ë” ìƒíƒœ "completed"ë¡œ ë³€ê²½ | ì˜¤ë” ëª©ë¡ì—ì„œ ì œê±° |

---

### 5.4 Lab (ê²€ì‚¬ì‹¤) í”Œë¡œìš°

**ì‹œë‚˜ë¦¬ì˜¤**: ê²€ì‚¬ ì˜¤ë” í™•ì¸ â†’ ê²°ê³¼ ì…ë ¥

| ë‹¨ê³„ | ì•¡ì…˜ | ì˜ˆìƒ ê²°ê³¼ |
|---|---|---|
| 1 | Labìœ¼ë¡œ ë¡œê·¸ì¸ | ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ |
| 2 | ê²€ì‚¬ ì˜¤ë” ëª©ë¡ ì¡°íšŒ | ëŒ€ê¸° ì¤‘ì¸ ê²€ì‚¬ ëª©ë¡ í‘œì‹œ |
| 3 | ì˜¤ë” ì„ íƒ (CBC, ê¹€ì² ìˆ˜) | ì˜¤ë” ìƒì„¸ ì •ë³´ í‘œì‹œ |
| 4 | ê²€ì‚¬ ê²°ê³¼ ì…ë ¥ í¼ ì˜¤í”ˆ | ì…ë ¥ í•„ë“œ í‘œì‹œ (WBC, RBC, Hemoglobin ë“±) |
| 5 | ê²°ê³¼ ê°’ ì…ë ¥ | ìë™ ì°¸ê³  ë²”ìœ„ ë¹„êµ, ì´ìƒì¹˜ í”Œë˜ê·¸ |
| 6 | "ê²°ê³¼ ì €ì¥" ë²„íŠ¼ í´ë¦­ | ê²°ê³¼ ì €ì¥ ì„±ê³µ |
| 7 | ê²€ì¦ì(Lab Supervisor) ìŠ¹ì¸ | ê²°ê³¼ í™•ì •, ì˜ì‚¬ì—ê²Œ ì•Œë¦¼ ì „ì†¡ |

---

### 5.5 Nurse (ê°„í˜¸ì‚¬) í”Œë¡œìš°

**ì‹œë‚˜ë¦¬ì˜¤**: í™˜ì ë°”ì´íƒˆ ì…ë ¥ â†’ ê°„í˜¸ ê¸°ë¡ ì‘ì„±

| ë‹¨ê³„ | ì•¡ì…˜ | ì˜ˆìƒ ê²°ê³¼ |
|---|---|---|
| 1 | Nurseë¡œ ë¡œê·¸ì¸ | ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ |
| 2 | í™˜ì ê²€ìƒ‰ (ê¹€ì² ìˆ˜) | ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ |
| 3 | í™˜ì ìƒì„¸ í˜ì´ì§€ ì§„ì… | í™˜ì ì •ë³´ í‘œì‹œ (ì²˜ë°© ì…ë ¥ ë¶ˆê°€) |
| 4 | "ë°”ì´íƒˆ ì…ë ¥" ë²„íŠ¼ í´ë¦­ | ë°”ì´íƒˆ ì…ë ¥ í¼ í‘œì‹œ |
| 5 | í˜ˆì••, ì²´ì˜¨, ë§¥ë°• ì…ë ¥ | ì…ë ¥ ì™„ë£Œ |
| 6 | "ì €ì¥" ë²„íŠ¼ í´ë¦­ | ë°”ì´íƒˆ ì €ì¥ ì„±ê³µ |
| 7 | "ê°„í˜¸ ê¸°ë¡" íƒ­ í´ë¦­ | ê°„í˜¸ ê¸°ë¡ í¼ í‘œì‹œ |
| 8 | ê°„í˜¸ ê¸°ë¡ ì‘ì„± | í…ìŠ¤íŠ¸ ì…ë ¥ |
| 9 | "ì €ì¥" ë²„íŠ¼ í´ë¦­ | ê°„í˜¸ ê¸°ë¡ ì €ì¥ ì„±ê³µ |

---

### 5.6 Patient (í™˜ì) í”Œë¡œìš° (Flutter ì•±)

**ì‹œë‚˜ë¦¬ì˜¤**: ë³¸ì¸ ì§„ë£Œ ë‚´ì—­ ì¡°íšŒ â†’ ì˜ˆì•½ ì‹ ì²­

| ë‹¨ê³„ | ì•¡ì…˜ | ì˜ˆìƒ ê²°ê³¼ |
|---|---|---|
| 1 | í™˜ì ì•± ì‹¤í–‰ | ë¡œê·¸ì¸ í™”ë©´ í‘œì‹œ |
| 2 | ìƒì²´ ì¸ì¦ (ì§€ë¬¸) | ìë™ ë¡œê·¸ì¸ |
| 3 | í™ˆ í™”ë©´ | ìµœê·¼ ì§„ë£Œ ë‚´ì—­, ë‹¤ìŒ ì˜ˆì•½ í‘œì‹œ |
| 4 | "ì§„ë£Œ ë‚´ì—­" íƒ­ í´ë¦­ | ë³¸ì¸ ì§„ë£Œ ê¸°ë¡ íƒ€ì„ë¼ì¸ í‘œì‹œ |
| 5 | ì§„ë£Œ ê¸°ë¡ ì„ íƒ | ì§„ë‹¨ëª…, ì²˜ë°© ë‚´ì—­ í‘œì‹œ (ì½ê¸° ì „ìš©) |
| 6 | "ì˜ˆì•½" íƒ­ í´ë¦­ | ì˜ˆì•½ ì‹ ì²­ ë²„íŠ¼ í‘œì‹œ |
| 7 | "ìƒˆ ì˜ˆì•½" ë²„íŠ¼ í´ë¦­ | ì§„ë£Œê³¼ ì„ íƒ í™”ë©´ |
| 8 | ì‹ ê²½ì™¸ê³¼ ì„ íƒ | ë‚ ì§œ/ì‹œê°„ ì„ íƒ í™”ë©´ |
| 9 | ë‚ ì§œ ì„ íƒ (2025-12-25) | ì˜ˆì•½ ì‹ ì²­ ë²„íŠ¼ í™œì„±í™” |
| 10 | "ì˜ˆì•½ ì‹ ì²­" ë²„íŠ¼ í´ë¦­ | ì˜ˆì•½ ì„±ê³µ ë©”ì‹œì§€, í‘¸ì‹œ ì•Œë¦¼ ì „ì†¡ |

---

### 5.7 External (ì™¸ë¶€ ê¸°ê´€) í”Œë¡œìš°

**ì‹œë‚˜ë¦¬ì˜¤**: FHIR APIë¥¼ í†µí•œ í™˜ì ë°ì´í„° ì¡°íšŒ

| ë‹¨ê³„ | ì•¡ì…˜ | ì˜ˆìƒ ê²°ê³¼ |
|---|---|---|
| 1 | M2M ì¸ì¦ (Client Credentials) | Access Token ë°œê¸‰ |
| 2 | FHIR Patient ë¦¬ì†ŒìŠ¤ ì¡°íšŒ (`GET /fhir/Patient/{id}`) | Patient ë¦¬ì†ŒìŠ¤ JSON ë°˜í™˜ |
| 3 | FHIR Observation ë¦¬ì†ŒìŠ¤ ì¡°íšŒ | ê²€ì‚¬ ê²°ê³¼ ë¦¬ì†ŒìŠ¤ ë°˜í™˜ |
| 4 | Rate Limit í…ŒìŠ¤íŠ¸ (100 req/min ì´ˆê³¼) | 429 Too Many Requests |
| 5 | í—ˆìš©ë˜ì§€ ì•Šì€ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ ì‹œë„ | 403 Forbidden |

---

## 6. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

### 6.1 API ì‘ë‹µ ì‹œê°„ í…ŒìŠ¤íŠ¸

**ë„êµ¬**: Locust

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `tests/performance/locustfile.py`

```python
from locust import HttpUser, task, between

class CDSSUser(HttpUser):
    wait_time = between(1, 3)

    def on_start(self):
        """ë¡œê·¸ì¸í•˜ì—¬ í† í° íšë“"""
        response = self.client.post("/api/acct/login/", json={
            "username": "dr.kim",
            "password": "SecureP@ss123"
        })
        self.token = response.json()['access']
        self.client.headers = {'Authorization': f'Bearer {self.token}'}

    @task(3)
    def search_patients(self):
        """í™˜ì ê²€ìƒ‰ (ë¹ˆë„ ë†’ìŒ)"""
        self.client.get("/api/emr/patients/search/?q=ê¹€ì² ìˆ˜")

    @task(2)
    def get_patient_detail(self):
        """í™˜ì ìƒì„¸ ì¡°íšŒ"""
        self.client.get("/api/emr/patients/P-2024-001234/")

    @task(1)
    def create_order(self):
        """ì²˜ë°© ìƒì„± (ë¹ˆë„ ë‚®ìŒ)"""
        self.client.post("/api/ocs/orders/", json={
            "patientId": "P-2024-001234",
            "orderType": "medication",
            "orderItems": [
                {
                    "drugCode": "DRG-001",
                    "drugName": "ì•„ìŠ¤í”¼ë¦° 100mg",
                    "dosage": "1ì •",
                    "frequency": "1ì¼ 1íšŒ"
                }
            ]
        })
```

**ì‹¤í–‰ ëª…ë ¹**
```bash
locust -f tests/performance/locustfile.py --host=http://localhost:8000 --users=100 --spawn-rate=10
```

**ì„±ëŠ¥ ëª©í‘œ**
- **í‰ê·  ì‘ë‹µ ì‹œê°„**: < 500ms
- **95th Percentile**: < 1000ms
- **99th Percentile**: < 2000ms
- **ë™ì‹œ ì‚¬ìš©ì**: 100ëª…
- **ì—ëŸ¬ìœ¨**: < 1%

---

### 6.2 AI ì¶”ë¡  ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**
- MRI ì¢…ì–‘ ê°ì§€ ë¶„ì„ ì‹œê°„ ì¸¡ì •
- GPU ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
- ë™ì‹œ AI ì‘ì—… ì²˜ë¦¬ ì„±ëŠ¥

**ì„±ëŠ¥ ëª©í‘œ**
- **MRI ë¶„ì„ ì‹œê°„**: < 30ì´ˆ
- **GPU ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ **: < 80%
- **ë™ì‹œ AI ì‘ì—…**: ìµœì†Œ 5ê°œ

---

## 7. ë³´ì•ˆ í…ŒìŠ¤íŠ¸

### 7.1 ì¸ì¦/ê¶Œí•œ ë³´ì•ˆ í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**

| í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ | ì„¤ëª… | ì˜ˆìƒ ê²°ê³¼ |
|---|---|---|
| ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ 5íšŒ ì…ë ¥ | ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ë°©ì–´ | ê³„ì • ì ê¸ˆ (423 Locked) |
| í† í° ì—†ì´ API í˜¸ì¶œ | ì¸ì¦ í•„ìš” ì—”ë“œí¬ì¸íŠ¸ ì ‘ê·¼ | 401 Unauthorized |
| ë§Œë£Œëœ í† í°ìœ¼ë¡œ API í˜¸ì¶œ | í† í° ë§Œë£Œ ì²˜ë¦¬ | 401 Unauthorized |
| Nurseê°€ ì²˜ë°© ìƒì„± ì‹œë„ | ê¶Œí•œ ì²´í¬ | 403 Forbidden |
| Patientê°€ íƒ€ì¸ ë°ì´í„° ì¡°íšŒ ì‹œë„ | Self Access ê·œì¹™ | 403 Forbidden |
| SQL Injection ì‹œë„ | `' OR 1=1--` ì…ë ¥ | ì¿¼ë¦¬ ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬, ì •ìƒ ë™ì‘ |
| XSS ì‹œë„ | `<script>alert('XSS')</script>` ì…ë ¥ | HTML ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬ |

---

### 7.2 OWASP Top 10 ë³´ì•ˆ í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ í•­ëª©**
1. **A01 Broken Access Control**: ì—­í• ë³„ ê¶Œí•œ ì²´í¬
2. **A02 Cryptographic Failures**: ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ (bcrypt), HTTPS ì‚¬ìš©
3. **A03 Injection**: SQL Injection, Command Injection ë°©ì–´
4. **A04 Insecure Design**: ë³´ì•ˆ ì„¤ê³„ ê²€í† 
5. **A05 Security Misconfiguration**: DEBUG=False, CORS ì„¤ì •
6. **A06 Vulnerable Components**: ì˜ì¡´ì„± ì·¨ì•½ì  ì ê²€ (`npm audit`, `pip check`)
7. **A07 Authentication Failures**: JWT í† í° ê²€ì¦, MFA
8. **A08 Data Integrity Failures**: ì „ìì„œëª… ê²€ì¦
9. **A09 Logging Failures**: ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
10. **A10 Server-Side Request Forgery**: SSRF ë°©ì–´

---

## 8. í…ŒìŠ¤íŠ¸ ë°ì´í„°

### 8.1 í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ê³„ì •

| ì—­í•  | Username | Password | ì„¤ëª… |
|---|---|---|---|
| Admin | admin.user | Admin@123 | ì‹œìŠ¤í…œ ê´€ë¦¬ì |
| Doctor | dr.kim | Doctor@123 | ì‹ ê²½ì™¸ê³¼ ì˜ì‚¬ |
| RIB | rib.lee | RIB@123 | ë°©ì‚¬ì„ ê³¼ |
| Lab | lab.park | Lab@123 | ê²€ì‚¬ì‹¤ |
| Nurse | nurse.choi | Nurse@123 | ê°„í˜¸ì‚¬ |
| Patient | patient.kim | Patient@123 | ì¼ë°˜ í™˜ì |
| External | external.api | External@123 | ì™¸ë¶€ ê¸°ê´€ API |

### 8.2 í…ŒìŠ¤íŠ¸ í™˜ì ë°ì´í„°

**í™˜ì 1**
- Patient ID: `P-2024-001234`
- ì´ë¦„: ê¹€ì² ìˆ˜
- ìƒë…„ì›”ì¼: 1980-05-15
- ì„±ë³„: ë‚¨ì„±
- ì§„ë‹¨: í¸ë‘í†µ ì˜ì‹¬

**í™˜ì 2**
- Patient ID: `P-2024-005678`
- ì´ë¦„: ì´ì˜í¬
- ìƒë…„ì›”ì¼: 1975-08-20
- ì„±ë³„: ì—¬ì„±
- ì§„ë‹¨: ê³ í˜ˆì••

---

**Last Updated**: 2025-12-19
**Version**: 1.0
**Author**: Claude AI
