# CDSS í”„ë¡œì íŠ¸ í™˜ê²½ ì„¤ì • ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2025-12-19
**ë²„ì „**: 1.0

---

## ğŸ“‹ ëª©ì°¨

1. [Python ê°€ìƒí™˜ê²½ ê´€ë¦¬](#1-python-ê°€ìƒí™˜ê²½-ê´€ë¦¬)
2. [Node.js íŒ¨í‚¤ì§€ ê´€ë¦¬](#2-nodejs-íŒ¨í‚¤ì§€-ê´€ë¦¬)
3. [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](#3-í™˜ê²½-ë³€ìˆ˜-ì„¤ì •)
4. [Docker í™˜ê²½ ì„¤ì •](#4-docker-í™˜ê²½-ì„¤ì •)
5. [íŒ€ í˜‘ì—… ê·œì¹™](#5-íŒ€-í˜‘ì—…-ê·œì¹™)

---

## 1. Python ê°€ìƒí™˜ê²½ ê´€ë¦¬

### 1.1 ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ì´ë™
cd cdss-backend

# ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate

# í™œì„±í™” í™•ì¸ (í”„ë¡¬í”„íŠ¸ ì•ì— (venv) í‘œì‹œë¨)
which python  # macOS/Linux
where python  # Windows
```

### 1.2 requirements.txt ê´€ë¦¬ (í•„ìˆ˜!)

#### ì´ˆê¸° ì„¤ì¹˜ í›„ requirements.txt ìƒì„±
```bash
# pip ìµœì‹  ë²„ì „ ì—…ê·¸ë ˆì´ë“œ
pip install --upgrade pip

# í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install django==4.2 djangorestframework djangorestframework-simplejwt
pip install django-cors-headers celery redis pymysql
pip install channels channels-redis
pip install requests python-dotenv
pip install pytest pytest-django django-prometheus

# â­ ì¤‘ìš”: requirements.txt ìƒì„± (ìŠµê´€í™”!)
pip freeze > requirements.txt
```

#### ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œ
```bash
# 1. íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install <package-name>

# 2. ì¦‰ì‹œ requirements.txt ì—…ë°ì´íŠ¸ (ìŠµê´€í™”!)
pip freeze > requirements.txt

# 3. Gitì— ì»¤ë°‹
git add requirements.txt
git commit -m "chore: add <package-name> to requirements"
```

#### ë‹¤ë¥¸ ê°œë°œìê°€ í”„ë¡œì íŠ¸ í´ë¡  ì‹œ
```bash
# 1. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 2. requirements.txtë¡œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install -r requirements.txt

# 3. ì„¤ì¹˜ í™•ì¸
pip list
```

### 1.3 requirements.txt ì˜ˆì‹œ

```txt
# cdss-backend/requirements.txt

# Django Core
Django==4.2.0
djangorestframework==3.14.0
djangorestframework-simplejwt==5.3.0

# Database
PyMySQL==1.1.0
mysqlclient==2.2.0

# CORS
django-cors-headers==4.3.0

# Async & Celery
celery==5.3.4
redis==5.0.0

# WebSocket
channels==4.0.0
channels-redis==4.1.0

# HTTP Requests
requests==2.31.0

# Environment Variables
python-dotenv==1.0.0

# Testing
pytest==7.4.3
pytest-django==4.5.2

# Monitoring
django-prometheus==2.3.1

# Development Tools
black==23.11.0
flake8==6.1.0
```

### 1.4 ê°€ìƒí™˜ê²½ ë¹„í™œì„±í™”

```bash
deactivate
```

### 1.5 .gitignore ì„¤ì •

```gitignore
# cdss-backend/.gitignore

# ê°€ìƒí™˜ê²½
venv/
env/
ENV/

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python

# Django
*.log
db.sqlite3
db.sqlite3-journal
media/
staticfiles/

# í™˜ê²½ ë³€ìˆ˜
.env
.env.local
.env.*.local

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db
```

---

## 2. Node.js íŒ¨í‚¤ì§€ ê´€ë¦¬

### 2.1 package.json ê´€ë¦¬

#### ì´ˆê¸° ì„¤ì • í›„ package.json í™•ì¸
```bash
cd cdss-frontend-react

# í”„ë¡œì íŠ¸ ìƒì„± ì‹œ ìë™ ìƒì„±ë¨
npx create-react-app . --template typescript

# package.json í™•ì¸
cat package.json
```

#### ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œ
```bash
# 1. íŒ¨í‚¤ì§€ ì„¤ì¹˜ (ìë™ìœ¼ë¡œ package.json ì—…ë°ì´íŠ¸)
npm install <package-name>

# ê°œë°œ ì˜ì¡´ì„± ì„¤ì¹˜
npm install -D <package-name>

# 2. package-lock.jsonë„ í•¨ê»˜ ì»¤ë°‹
git add package.json package-lock.json
git commit -m "chore: add <package-name>"
```

#### ë‹¤ë¥¸ ê°œë°œìê°€ í”„ë¡œì íŠ¸ í´ë¡  ì‹œ
```bash
# 1. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ì´ë™
cd cdss-frontend-react

# 2. package.json ê¸°ë°˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install

# 3. ì„¤ì¹˜ í™•ì¸
npm list --depth=0
```

### 2.2 package.json ì˜ˆì‹œ

```json
{
  "name": "cdss-frontend-react",
  "version": "0.1.0",
  "private": true,
  "dependencies": {
    "axios": "^1.6.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.20.0",
    "zustand": "^4.4.7",
    "@headlessui/react": "^1.7.17",
    "@heroicons/react": "^2.0.18",
    "react-hook-form": "^7.48.2",
    "zod": "^3.22.4",
    "@hookform/resolvers": "^3.3.2",
    "date-fns": "^2.30.0",
    "recharts": "^2.10.0",
    "clsx": "^2.0.0",
    "tailwind-merge": "^2.0.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "typescript": "^5.0.0",
    "tailwindcss": "^3.3.0",
    "postcss": "^8.4.0",
    "autoprefixer": "^10.4.0",
    "@tailwindcss/forms": "^0.5.7",
    "vitest": "^1.0.0",
    "@testing-library/react": "^14.0.0",
    "@testing-library/jest-dom": "^6.0.0",
    "@playwright/test": "^1.40.0"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "vitest",
    "test:e2e": "playwright test",
    "lint": "eslint src --ext .ts,.tsx",
    "format": "prettier --write \"src/**/*.{ts,tsx}\""
  }
}
```

### 2.3 .gitignore ì„¤ì •

```gitignore
# cdss-frontend-react/.gitignore

# Dependencies
node_modules/
/.pnp
.pnp.js

# Testing
/coverage

# Production
/build

# Environment
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# Logs
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# IDE
.vscode/
.idea/

# OS
.DS_Store
Thumbs.db
```

---

## 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### 3.1 Backend (.env íŒŒì¼)

```bash
# cdss-backend/.env

# Django Settings
DEBUG=True
SECRET_KEY=your-secret-key-here-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1

# Database
DB_ENGINE=django.db.backends.mysql
DB_NAME=cdss_db
DB_USER=cdss_user
DB_PASSWORD=your_password_here
DB_HOST=localhost
DB_PORT=3306

# Redis
REDIS_URL=redis://localhost:6379/0

# RabbitMQ
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# OpenEMR API
OPENEMR_BASE_URL=http://localhost:8080
OPENEMR_API_TOKEN=your_openemr_token_here

# Orthanc DICOM
ORTHANC_BASE_URL=http://localhost:8042
ORTHANC_USERNAME=orthanc
ORTHANC_PASSWORD=orthanc

# HAPI FHIR
HAPI_FHIR_BASE_URL=http://localhost:8080/fhir
HAPI_FHIR_AUTH_TOKEN=your_fhir_token_here

# MinIO S3
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=cdss-ai-artifacts

# JWT Settings
JWT_ACCESS_TOKEN_LIFETIME=30  # minutes
JWT_REFRESH_TOKEN_LIFETIME=7  # days

# Email (ì„ íƒ)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
```

### 3.2 Frontend (.env íŒŒì¼)

```bash
# cdss-frontend-react/.env

# API Base URL
REACT_APP_API_BASE_URL=http://localhost:8000/api

# WebSocket URL
REACT_APP_WS_BASE_URL=ws://localhost:8000/ws

# Environment
REACT_APP_ENV=development

# Feature Flags (ì„ íƒ)
REACT_APP_ENABLE_DICOM_VIEWER=true
REACT_APP_ENABLE_AI_FEATURES=true
```

### 3.3 .env.example íŒŒì¼ ìƒì„± (Gitì— í¬í•¨)

```bash
# cdss-backend/.env.example

# Django Settings
DEBUG=True
SECRET_KEY=change-this-in-production
ALLOWED_HOSTS=localhost,127.0.0.1

# Database
DB_ENGINE=django.db.backends.mysql
DB_NAME=cdss_db
DB_USER=cdss_user
DB_PASSWORD=CHANGE_ME
DB_HOST=localhost
DB_PORT=3306

# ... (ì‹¤ì œ ê°’ì€ ì œê±°í•˜ê³  í…œí”Œë¦¿ë§Œ ì œê³µ)
```

### 3.4 í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ (Python)

```python
# cdss-backend/cdss_backend/settings.py

import os
from dotenv import load_dotenv

# .env íŒŒì¼ ë¡œë“œ
load_dotenv()

# í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
SECRET_KEY = os.getenv('SECRET_KEY', 'fallback-secret-key')
DEBUG = os.getenv('DEBUG', 'False') == 'True'

DATABASES = {
    'default': {
        'ENGINE': os.getenv('DB_ENGINE'),
        'NAME': os.getenv('DB_NAME'),
        'USER': os.getenv('DB_USER'),
        'PASSWORD': os.getenv('DB_PASSWORD'),
        'HOST': os.getenv('DB_HOST'),
        'PORT': os.getenv('DB_PORT'),
    }
}
```

---

## 4. Docker í™˜ê²½ ì„¤ì •

### 4.1 Dockerfile (Backend)

```dockerfile
# cdss-backend/Dockerfile

FROM python:3.10-slim

WORKDIR /app

# ì‹œìŠ¤í…œ ì˜ì¡´ì„± ì„¤ì¹˜
RUN apt-get update && apt-get install -y \
    gcc \
    default-libmysqlclient-dev \
    && rm -rf /var/lib/apt/lists/*

# Python ì˜ì¡´ì„± ì„¤ì¹˜
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ ë³µì‚¬
COPY . .

# í¬íŠ¸ ë…¸ì¶œ
EXPOSE 8000

# ì‹¤í–‰ ëª…ë ¹
CMD ["gunicorn", "cdss_backend.wsgi:application", "--bind", "0.0.0.0:8000"]
```

### 4.2 Dockerfile (Frontend)

```dockerfile
# cdss-frontend-react/Dockerfile

# Stage 1: Build
FROM node:18-alpine AS build

WORKDIR /app

# ì˜ì¡´ì„± ì„¤ì¹˜
COPY package.json package-lock.json ./
RUN npm ci

# ë¹Œë“œ
COPY . .
RUN npm run build

# Stage 2: Production
FROM nginx:alpine

# ë¹Œë“œëœ íŒŒì¼ ë³µì‚¬
COPY --from=build /app/build /usr/share/nginx/html

# Nginx ì„¤ì • ë³µì‚¬ (ì„ íƒ)
# COPY nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

### 4.3 docker-compose.yml

```yaml
# docker-compose.yml

version: '3.8'

services:
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_DATABASE: cdss_db
      MYSQL_USER: cdss_user
      MYSQL_PASSWORD: your_password
      MYSQL_ROOT_PASSWORD: root_password
    volumes:
      - mysql_data:/var/lib/mysql
    ports:
      - "3306:3306"

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

  rabbitmq:
    image: rabbitmq:3-management
    ports:
      - "5672:5672"
      - "15672:15672"

  django:
    build: ./cdss-backend
    command: gunicorn cdss_backend.wsgi:application --bind 0.0.0.0:8000
    volumes:
      - ./cdss-backend:/app
    ports:
      - "8000:8000"
    env_file:
      - ./cdss-backend/.env
    depends_on:
      - mysql
      - redis
      - rabbitmq

  react:
    build: ./cdss-frontend-react
    ports:
      - "3000:80"
    depends_on:
      - django

volumes:
  mysql_data:
```

---

## 5. íŒ€ í˜‘ì—… ê·œì¹™

### 5.1 ì˜ì¡´ì„± ê´€ë¦¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### Backend (Python)
- [ ] ìƒˆ íŒ¨í‚¤ì§€ ì„¤ì¹˜ í›„ ì¦‰ì‹œ `pip freeze > requirements.txt` ì‹¤í–‰
- [ ] requirements.txtë¥¼ Gitì— ì»¤ë°‹
- [ ] ë‹¤ë¥¸ íŒ€ì›ì—ê²Œ ìŠ¬ë™/ì´ë©”ì¼ë¡œ ì˜ì¡´ì„± ì—…ë°ì´íŠ¸ ì•Œë¦¼
- [ ] ì£¼ìš” ë²„ì „ ì—…ê·¸ë ˆì´ë“œ ì‹œ CHANGELOG.md ì—…ë°ì´íŠ¸

#### Frontend (Node.js)
- [ ] `npm install` ì‚¬ìš© (package.json ìë™ ì—…ë°ì´íŠ¸)
- [ ] package.jsonê³¼ package-lock.json ëª¨ë‘ Gitì— ì»¤ë°‹
- [ ] yarn ì‚¬ìš© ì‹œ yarn.lockë„ ì»¤ë°‹
- [ ] ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—…ê·¸ë ˆì´ë“œ ì‹œ íŒ€ì›ì—ê²Œ ì•Œë¦¼

### 5.2 í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

- [ ] `.env` íŒŒì¼ì€ ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ì•ŠìŒ
- [ ] `.env.example` íŒŒì¼ì€ í…œí”Œë¦¿ìœ¼ë¡œ Gitì— í¬í•¨
- [ ] ìƒˆë¡œìš´ í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€ ì‹œ `.env.example`ë„ ì—…ë°ì´íŠ¸
- [ ] ë¯¼ê° ì •ë³´ (API í‚¤, ë¹„ë°€ë²ˆí˜¸)ëŠ” íŒ€ ê³µìœ  ë¬¸ì„œì— ë³„ë„ ê´€ë¦¬

### 5.3 ê°€ìƒí™˜ê²½ ê´€ë¦¬

- [ ] `venv/` ë””ë ‰í† ë¦¬ëŠ” Gitì— ì»¤ë°‹í•˜ì§€ ì•ŠìŒ (.gitignore ì„¤ì •)
- [ ] ê° ê°œë°œìëŠ” ë¡œì»¬ì—ì„œ ë…ë¦½ì ì¸ ê°€ìƒí™˜ê²½ ìƒì„±
- [ ] ê°€ìƒí™˜ê²½ í™œì„±í™” ìƒíƒœì—ì„œ ê°œë°œ ì§„í–‰
- [ ] í”„ë¡œì íŠ¸ í´ë¡  ì‹œ README.mdì˜ ì„¤ì¹˜ ê°€ì´ë“œ ì°¸ì¡°

### 5.4 Docker í™˜ê²½

- [ ] Dockerfile ë³€ê²½ ì‹œ íŒ€ì›ì—ê²Œ ì•Œë¦¼
- [ ] docker-compose.yml ì—…ë°ì´íŠ¸ ì‹œ `docker-compose up --build` ì¬ì‹¤í–‰ í•„ìš”
- [ ] í™˜ê²½ ë³€ìˆ˜ëŠ” `.env` íŒŒì¼ë¡œ ê´€ë¦¬ (docker-compose.ymlì— í•˜ë“œì½”ë”© ê¸ˆì§€)

### 5.5 ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

```bash
# ì˜ì¡´ì„± ì¶”ê°€
git commit -m "chore: add axios for API requests"

# ì˜ì¡´ì„± ì—…ê·¸ë ˆì´ë“œ
git commit -m "chore: upgrade django from 4.1 to 4.2"

# ì˜ì¡´ì„± ì œê±°
git commit -m "chore: remove unused package moment.js"

# requirements.txt ì—…ë°ì´íŠ¸
git commit -m "chore: update requirements.txt"
```

---

## ğŸ“ ë¹ ë¥¸ ì°¸ì¡°

### Python ì˜ì¡´ì„± ê´€ë¦¬
```bash
# ì„¤ì¹˜ í›„ ì¦‰ì‹œ
pip install <package>
pip freeze > requirements.txt
git add requirements.txt
git commit -m "chore: add <package>"

# ë‹¤ë¥¸ ê°œë°œì
pip install -r requirements.txt
```

### Node.js ì˜ì¡´ì„± ê´€ë¦¬
```bash
# ì„¤ì¹˜ í›„ ìë™ ì—…ë°ì´íŠ¸
npm install <package>
git add package.json package-lock.json
git commit -m "chore: add <package>"

# ë‹¤ë¥¸ ê°œë°œì
npm install
```

### í™˜ê²½ ë³€ìˆ˜
```bash
# .env.example ë³µì‚¬
cp .env.example .env

# ì‹¤ì œ ê°’ ì…ë ¥ (ì—ë””í„°ë¡œ)
nano .env
```

### Docker
```bash
# ë¹Œë“œ ë° ì‹¤í–‰
docker-compose up --build

# ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
docker-compose up -d

# ì¤‘ì§€
docker-compose down
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ
1. âŒ `.env` íŒŒì¼ì„ Gitì— ì»¤ë°‹
2. âŒ `venv/` ë””ë ‰í† ë¦¬ë¥¼ Gitì— ì»¤ë°‹
3. âŒ `node_modules/` ë””ë ‰í† ë¦¬ë¥¼ Gitì— ì»¤ë°‹
4. âŒ API í‚¤, ë¹„ë°€ë²ˆí˜¸ë¥¼ ì½”ë“œì— í•˜ë“œì½”ë”©
5. âŒ requirements.txt ì—…ë°ì´íŠ¸ ì—†ì´ ìƒˆ íŒ¨í‚¤ì§€ ì‚¬ìš©

### ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ
1. âœ… íŒ¨í‚¤ì§€ ì„¤ì¹˜ í›„ ì¦‰ì‹œ requirements.txt ë˜ëŠ” package.json ì—…ë°ì´íŠ¸
2. âœ… .env.example íŒŒì¼ ìµœì‹  ìƒíƒœ ìœ ì§€
3. âœ… .gitignore íŒŒì¼ ì„¤ì • í™•ì¸
4. âœ… ê°€ìƒí™˜ê²½ í™œì„±í™” ìƒíƒœì—ì„œ ê°œë°œ
5. âœ… ì˜ì¡´ì„± ë³€ê²½ ì‹œ íŒ€ì›ì—ê²Œ ì•Œë¦¼

---

**Last Updated**: 2025-12-19
**Version**: 1.0
**Author**: Claude AI
