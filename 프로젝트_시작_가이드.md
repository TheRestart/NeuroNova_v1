# ğŸš€ CDSS í”„ë¡œì íŠ¸ ì‹œì‘ ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2025-12-22
**ëª©ì **: í”„ë¡œì íŠ¸ ì‹œì‘ ì‹œ ë¶ˆí•„ìš”í•œ Docker ì»¨í…Œì´ë„ˆ ì •ë¦¬

---

## âš¡ ë¹ ë¥¸ ì‹œì‘

### ë°©ë²• 1: ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê¶Œì¥)

**Windows (PowerShell):**
```powershell
.\start_project.ps1
```

**Windows (Batch):**
```batch
start_project.bat
```

**ê¸°ëŠ¥:**
1. ëª¨ë“  Docker ì»¨í…Œì´ë„ˆ ì •ì§€
2. ì •ì§€ëœ ì»¨í…Œì´ë„ˆ ì •ë¦¬
3. OpenEMR Docker ì‹œì‘
4. Django ì„œë²„ ìë™ ì‹œì‘ ì˜µì…˜ ì œê³µ

---

### ë°©ë²• 2: ìˆ˜ë™ ì‹œì‘

**1ë‹¨ê³„: Docker ì •ë¦¬**
```bash
# ëª¨ë“  ì»¨í…Œì´ë„ˆ ì •ì§€
docker stop $(docker ps -aq)

# ì •ì§€ëœ ì»¨í…Œì´ë„ˆ ì •ë¦¬
docker container prune -f
```

**2ë‹¨ê³„: OpenEMR ì‹œì‘**
```bash
cd openemr-docker
docker-compose up -d
cd ..
```

**3ë‹¨ê³„: Django ì„œë²„ ì‹œì‘**
```bash
cd cdss-backend
venv\Scripts\python manage.py runserver
```

---

## ğŸ“Š ì„œë¹„ìŠ¤ í™•ì¸

### OpenEMR í™•ì¸
```bash
# Docker ìƒíƒœ í™•ì¸
docker ps --filter "name=openemr"

# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
# http://localhost:80
```

**OpenEMR ë¡œê·¸ì¸:**
- Username: `admin`
- Password: `pass`

### Django í™•ì¸
```bash
# Health Check
curl http://localhost:8000/api/emr/health/

# ë˜ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ
# http://localhost:8000/api/emr/health/
```

### í…ŒìŠ¤íŠ¸ UI
```bash
# HTML í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ì—´ê¸°
start emr-test-ui.html
```

---

## ğŸ”„ Docker ê´€ë¦¬ ëª…ë ¹ì–´

### ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
```bash
# ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ
docker ps

# ëª¨ë“  ì»¨í…Œì´ë„ˆ (ì •ì§€ í¬í•¨)
docker ps -a
```

### OpenEMR ê´€ë¦¬
```bash
# OpenEMR ì‹œì‘
cd openemr-docker
docker-compose up -d

# OpenEMR ì •ì§€
docker-compose down

# OpenEMR ì¬ì‹œì‘
docker-compose restart

# ë¡œê·¸ í™•ì¸
docker-compose logs -f
```

### ì™„ì „ ì´ˆê¸°í™” (ì£¼ì˜!)
```bash
# ëª¨ë“  ì»¨í…Œì´ë„ˆ, ì´ë¯¸ì§€, ë³¼ë¥¨ ì‚­ì œ
docker system prune -a --volumes

# OpenEMR ì¬ì„¤ì¹˜
cd openemr-docker
docker-compose up -d
```

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### 1. í¬íŠ¸ ì¶©ëŒ
**ì¦ìƒ**: `Bind for 0.0.0.0:80 failed: port is already allocated`

**í•´ê²°**:
```bash
# 80ë²ˆ í¬íŠ¸ ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
netstat -ano | findstr :80

# í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
taskkill /PID <PID> /F
```

### 2. Django ì„œë²„ ì—°ê²° ì‹¤íŒ¨
**ì¦ìƒ**: `ERR_CONNECTION_REFUSED`

**í•´ê²°**:
```bash
# Django ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
netstat -ano | findstr :8000

# Django ì„œë²„ ì¬ì‹œì‘
cd cdss-backend
venv\Scripts\python manage.py runserver
```

### 3. OpenEMR ì‘ë‹µ ì—†ìŒ
**ì¦ìƒ**: Health Check ì‹¤íŒ¨

**í•´ê²°**:
```bash
# OpenEMR ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker ps --filter "name=openemr"

# OpenEMR ë¡œê·¸ í™•ì¸
cd openemr-docker
docker-compose logs openemr

# OpenEMR ì¬ì‹œì‘
docker-compose restart openemr
```

---

## ğŸ“ ì£¼ìš” íŒŒì¼ ìœ„ì¹˜

```
c:\Users\302-28\Downloads\UML\
â”œâ”€â”€ start_project.bat          # Windows ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ (Batch)
â”œâ”€â”€ start_project.ps1           # Windows ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ (PowerShell)
â”œâ”€â”€ emr-test-ui.html            # EMR í…ŒìŠ¤íŠ¸ UI
â”œâ”€â”€ openemr-docker/
â”‚   â””â”€â”€ docker-compose.yml      # OpenEMR Docker ì„¤ì •
â””â”€â”€ cdss-backend/
    â”œâ”€â”€ manage.py               # Django ê´€ë¦¬ ëª…ë ¹
    â”œâ”€â”€ emr/                    # EMR ì•±
    â””â”€â”€ .env                    # í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```

---

## âœ… ì‹œì‘ ì™„ë£Œ í™•ì¸

ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì •ìƒ ì‹¤í–‰ë˜ì—ˆë‹¤ë©´:

1. **OpenEMR**: âœ… http://localhost:80
2. **Django Health**: âœ… http://localhost:8000/api/emr/health/
3. **í…ŒìŠ¤íŠ¸ UI**: âœ… emr-test-ui.html

---

## ğŸ”’ ë³´ì•ˆ ì •ì±…

### ê°œë°œ ëª¨ë“œ (í˜„ì¬)
- `ENABLE_SECURITY=False`
- OpenEMR ì¸ì¦ ë¶ˆí•„ìš” (Djangoê°€ ëª¨ë“  ë³´ì•ˆ ë‹´ë‹¹)
- ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

### í”„ë¡œë•ì…˜ ëª¨ë“œ
- `ENABLE_SECURITY=True`ë¡œ ë³€ê²½ í•„ìš”
- Django Token ì¸ì¦ í•„ìˆ˜
- RBAC ê¶Œí•œ ê²€ì¦ í™œì„±í™”

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- [WEEK2_EMR_ì‘ì—…ì™„ë£Œ.md](WEEK2_EMR_ì‘ì—…ì™„ë£Œ.md) - Week 2 ì™„ë£Œ ë³´ê³ ì„œ
- [ê°œë°œëª¨ë“œ_ê°€ì´ë“œ.md](cdss-backend/ê°œë°œëª¨ë“œ_ê°€ì´ë“œ.md) - ê°œë°œ ëª¨ë“œ ê°€ì´ë“œ
- [ë³´ì•ˆ_ì•„í‚¤í…ì²˜_ì •ì±….md](ë³´ì•ˆ_ì•„í‚¤í…ì²˜_ì •ì±….md) - ë³´ì•ˆ ì •ì±…

---

**í”„ë¡œì íŠ¸ ì‹œì‘ ê°€ì´ë“œ ì‘ì„± ì™„ë£Œ** âœ¨
