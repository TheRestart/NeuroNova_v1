# Claude AI 1ë‹¬ ê°œë°œ ì‘ì—… ìˆœì„œ

**í”„ë¡œì íŠ¸**: CDSS (Clinical Decision Support System)
**ê°œë°œ ê¸°ê°„**: 1ë‹¬ (4ì£¼)
**ì‘ì—… ë²”ìœ„**: Backend (Django) + Frontend (React) í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„
**ëª©í‘œ**: Phase 1 ì™„ë£Œ - ê¸°ë°˜ êµ¬ì¶• ë° í•µì‹¬ UC ëª¨ë“ˆ êµ¬í˜„

---

## ğŸ“‹ ì‘ì—… ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 1. í•„ìˆ˜ ë¬¸ì„œ ìˆ™ì§€
- [ ] [README.md](README.md) - í”„ë¡œì íŠ¸ ì „ì²´ ê°œìš”
- [ ] [CLAUDE_CONTEXT.md](CLAUDE_CONTEXT.md) - ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- [ ] [ì—…ë¬´ê³„íšì„œ.md](ì—…ë¬´ê³„íšì„œ.md) - ê¸°ìˆ  ìŠ¤íƒë³„ ì—…ë¬´ ë¶„ë¥˜
- [ ] [02_ì„¸ë¶€ ê³„íšì„œ.md](02_ì„¸ë¶€ ê³„íšì„œ.md) - ì¸í”„ë¼ êµ¬ì„± ìƒì„¸
- [ ] [01_ê¶Œí•œ7.txt](01_ê¶Œí•œ7.txt) - 7ê°œ ì—­í•  ê¶Œí•œ ì •ì˜

### 2. ê°œë°œ í™˜ê²½ ì„¤ì •
```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
mkdir -p cdss-backend
mkdir -p cdss-frontend-react

# Backend (Django)
cd cdss-backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
pip install --upgrade pip
pip install django==4.2 djangorestframework djangorestframework-simplejwt
pip install django-cors-headers celery redis pymysql
pip install channels channels-redis
pip install requests python-dotenv
pip install pytest pytest-django django-prometheus

# requirements.txt ìƒì„± (ìŠµê´€í™”!)
pip freeze > requirements.txt

# Frontend (React + TypeScript + Tailwind CSS)
cd ../cdss-frontend-react
npx create-react-app . --template typescript
npm install axios react-router-dom zustand
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p

# UI ì»´í¬ë„ŒíŠ¸ ë° ìœ í‹¸ë¦¬í‹°
npm install @headlessui/react @heroicons/react
npm install react-hook-form zod @hookform/resolvers
npm install date-fns recharts
npm install clsx tailwind-merge
```

### 3. ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ ì •ë³´ í™•ì¸
- [ ] OpenEMR API ì—”ë“œí¬ì¸íŠ¸ URL í™•ë³´
- [ ] Orthanc DICOMweb API URL í™•ë³´
- [ ] HAPI FHIR Server URL í™•ë³´
- [ ] í…ŒìŠ¤íŠ¸ ê³„ì • ë° ì¸ì¦ ì •ë³´ í™•ë³´

---

## Week 1: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • + UC1 (ì¸ì¦/ê¶Œí•œ)

### Day 1-2: Django í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •

#### ì‘ì—… ë‚´ìš©
1. **Django í”„ë¡œì íŠ¸ ìƒì„±**
   ```bash
   django-admin startproject cdss_backend .
   python manage.py startapp acct  # UC1
   python manage.py startapp audit # UC9
   python manage.py startapp emr   # UC2
   python manage.py startapp alert # UC7
   ```

2. **settings.py ê¸°ë³¸ êµ¬ì„±**
   ```python
   # INSTALLED_APPS
   INSTALLED_APPS = [
       'django.contrib.admin',
       'django.contrib.auth',
       'django.contrib.contenttypes',
       'django.contrib.sessions',
       'django.contrib.messages',
       'django.contrib.staticfiles',
       'rest_framework',
       'rest_framework.authtoken',
       'corsheaders',
       'acct',
       'audit',
       'emr',
       'alert',
   ]

   # MySQL ì—°ê²°
   DATABASES = {
       'default': {
           'ENGINE': 'django.db.backends.mysql',
           'NAME': 'cdss_db',
           'USER': 'cdss_user',
           'PASSWORD': 'your_password',
           'HOST': 'localhost',
           'PORT': '3306',
       }
   }

   # CORS ì„¤ì •
   CORS_ALLOWED_ORIGINS = [
       "http://localhost:3000",  # React ê°œë°œ ì„œë²„
   ]

   # REST Framework ì„¤ì •
   REST_FRAMEWORK = {
       'DEFAULT_AUTHENTICATION_CLASSES': [
           'rest_framework.authentication.TokenAuthentication',
       ],
       'DEFAULT_PERMISSION_CLASSES': [
           'rest_framework.permissions.IsAuthenticated',
       ],
   }
   ```

3. **MySQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±**
   ```sql
   CREATE DATABASE cdss_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   CREATE USER 'cdss_user'@'localhost' IDENTIFIED BY 'your_password';
   GRANT ALL PRIVILEGES ON cdss_db.* TO 'cdss_user'@'localhost';
   FLUSH PRIVILEGES;
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] Django í”„ë¡œì íŠ¸ ì •ìƒ ì‹¤í–‰ (`python manage.py runserver`)
- [ ] MySQL ì—°ê²° ì„±ê³µ
- [ ] 4ê°œ ì•± ìƒì„± ì™„ë£Œ (acct, audit, emr, alert)

---

### Day 3-5: UC1 (ACCT) - ì¸ì¦/ê¶Œí•œ 7ê°œ ì—­í•  êµ¬í˜„

#### ì‘ì—… ë‚´ìš©

1. **acct/models.py - ì‚¬ìš©ì ëª¨ë¸ ìƒì„±**
   ```python
   from django.contrib.auth.models import AbstractUser
   from django.db import models

   class Role(models.TextChoices):
       ADMIN = 'admin', 'Admin'
       DOCTOR = 'doctor', 'Doctor'
       RIB = 'rib', 'RIB'
       LAB = 'lab', 'Lab'
       NURSE = 'nurse', 'Nurse'
       PATIENT = 'patient', 'Patient'
       EXTERNAL = 'external', 'External'

   class User(AbstractUser):
       role = models.CharField(
           max_length=20,
           choices=Role.choices,
           default=Role.PATIENT
       )
       employee_id = models.CharField(max_length=50, blank=True, null=True)
       department = models.CharField(max_length=100, blank=True, null=True)
       phone = models.CharField(max_length=20, blank=True, null=True)
       created_at = models.DateTimeField(auto_now_add=True)
       updated_at = models.DateTimeField(auto_now=True)

       def __str__(self):
           return f"{self.username} ({self.get_role_display()})"
   ```

2. **acct/permissions.py - ì—­í•  ê¸°ë°˜ ê¶Œí•œ í´ë˜ìŠ¤**
   ```python
   from rest_framework import permissions

   class IsAdmin(permissions.BasePermission):
       def has_permission(self, request, view):
           return request.user.role == 'admin'

   class IsDoctor(permissions.BasePermission):
       def has_permission(self, request, view):
           return request.user.role == 'doctor'

   class IsDoctorOrRIB(permissions.BasePermission):
       def has_permission(self, request, view):
           return request.user.role in ['doctor', 'rib']

   class IsSelfOrAdmin(permissions.BasePermission):
       def has_object_permission(self, request, view, obj):
           if request.user.role == 'admin':
               return True
           # PatientëŠ” ë³¸ì¸ ë°ì´í„°ë§Œ ì ‘ê·¼
           return obj.id == request.user.id
   ```

3. **acct/serializers.py - API ì§ë ¬í™”**
   ```python
   from rest_framework import serializers
   from .models import User

   class UserSerializer(serializers.ModelSerializer):
       class Meta:
           model = User
           fields = ['id', 'username', 'email', 'role', 'employee_id',
                    'department', 'phone', 'created_at']
           read_only_fields = ['id', 'created_at']

   class LoginSerializer(serializers.Serializer):
       username = serializers.CharField()
       password = serializers.CharField(write_only=True)
   ```

4. **acct/views.py - ë¡œê·¸ì¸/íšŒì›ê°€ì… API**
   ```python
   from rest_framework import status
   from rest_framework.decorators import api_view, permission_classes
   from rest_framework.response import Response
   from rest_framework.authtoken.models import Token
   from rest_framework.permissions import AllowAny
   from django.contrib.auth import authenticate
   from .serializers import UserSerializer, LoginSerializer

   @api_view(['POST'])
   @permission_classes([AllowAny])
   def login(request):
       serializer = LoginSerializer(data=request.data)
       if serializer.is_valid():
           user = authenticate(
               username=serializer.validated_data['username'],
               password=serializer.validated_data['password']
           )
           if user:
               token, _ = Token.objects.get_or_create(user=user)
               return Response({
                   'token': token.key,
                   'user': UserSerializer(user).data
               })
           return Response({'error': 'Invalid credentials'},
                         status=status.HTTP_401_UNAUTHORIZED)
       return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)

   @api_view(['POST'])
   @permission_classes([AllowAny])
   def register(request):
       serializer = UserSerializer(data=request.data)
       if serializer.is_valid():
           user = User.objects.create_user(
               username=serializer.validated_data['username'],
               email=serializer.validated_data.get('email'),
               password=request.data['password'],
               role=serializer.validated_data.get('role', 'patient')
           )
           token = Token.objects.create(user=user)
           return Response({
               'token': token.key,
               'user': UserSerializer(user).data
           }, status=status.HTTP_201_CREATED)
       return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
   ```

5. **acct/urls.py - URL ë¼ìš°íŒ…**
   ```python
   from django.urls import path
   from . import views

   urlpatterns = [
       path('login/', views.login, name='login'),
       path('register/', views.register, name='register'),
   ]
   ```

6. **cdss_backend/urls.py - ë©”ì¸ URL ì„¤ì •**
   ```python
   from django.contrib import admin
   from django.urls import path, include

   urlpatterns = [
       path('admin/', admin.site.urls),
       path('api/acct/', include('acct.urls')),
   ]
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] User ëª¨ë¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] `/api/acct/login/` ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ë™ì‘
- [ ] `/api/acct/register/` ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ë™ì‘
- [ ] 7ê°œ ì—­í• ë³„ ì‚¬ìš©ì ìƒì„± í…ŒìŠ¤íŠ¸ ì™„ë£Œ

---

### Day 6-7: UC9 (AUDIT) - ê°ì‚¬ ë¡œê·¸ ê¸°ë³¸ êµ¬í˜„

#### ì‘ì—… ë‚´ìš©

1. **audit/models.py - ê°ì‚¬ ë¡œê·¸ ëª¨ë¸**
   ```python
   from django.db import models
   from acct.models import User

   class AuditLog(models.Model):
       ACTION_CHOICES = [
           ('CREATE', 'Create'),
           ('READ', 'Read'),
           ('UPDATE', 'Update'),
           ('DELETE', 'Delete'),
           ('LOGIN', 'Login'),
           ('LOGOUT', 'Logout'),
       ]

       user = models.ForeignKey(User, on_delete=models.SET_NULL, null=True)
       action = models.CharField(max_length=20, choices=ACTION_CHOICES)
       resource_type = models.CharField(max_length=50)
       resource_id = models.CharField(max_length=100, blank=True, null=True)
       ip_address = models.GenericIPAddressField()
       user_agent = models.TextField(blank=True, null=True)
       timestamp = models.DateTimeField(auto_now_add=True)
       details = models.JSONField(blank=True, null=True)

       class Meta:
           ordering = ['-timestamp']
           indexes = [
               models.Index(fields=['user', 'timestamp']),
               models.Index(fields=['resource_type', 'timestamp']),
           ]
   ```

2. **audit/client.py - ê°ì‚¬ ë¡œê·¸ í´ë¼ì´ì–¸íŠ¸**
   ```python
   from .models import AuditLog

   class AuditClient:
       @staticmethod
       def log_event(user, action, resource_type, resource_id=None,
                    request=None, details=None):
           ip_address = '127.0.0.1'
           user_agent = None

           if request:
               ip_address = request.META.get('REMOTE_ADDR', '127.0.0.1')
               user_agent = request.META.get('HTTP_USER_AGENT', '')

           AuditLog.objects.create(
               user=user,
               action=action,
               resource_type=resource_type,
               resource_id=resource_id,
               ip_address=ip_address,
               user_agent=user_agent,
               details=details
           )
   ```

3. **acct/views.py ìˆ˜ì • - ë¡œê·¸ì¸ ì‹œ ê°ì‚¬ ë¡œê·¸ ì¶”ê°€**
   ```python
   from audit.client import AuditClient

   @api_view(['POST'])
   @permission_classes([AllowAny])
   def login(request):
       serializer = LoginSerializer(data=request.data)
       if serializer.is_valid():
           user = authenticate(
               username=serializer.validated_data['username'],
               password=serializer.validated_data['password']
           )
           if user:
               token, _ = Token.objects.get_or_create(user=user)

               # ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
               AuditClient.log_event(
                   user=user,
                   action='LOGIN',
                   resource_type='User',
                   resource_id=str(user.id),
                   request=request
               )

               return Response({
                   'token': token.key,
                   'user': UserSerializer(user).data
               })
           return Response({'error': 'Invalid credentials'},
                         status=status.HTTP_401_UNAUTHORIZED)
       return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] AuditLog ëª¨ë¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] ë¡œê·¸ì¸ ì‹œ ê°ì‚¬ ë¡œê·¸ ìë™ ìƒì„± í™•ì¸
- [ ] Django Adminì—ì„œ ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ ê°€ëŠ¥

---








## Week 2: UC2 (EMR Proxy) + UC7 (Alert) + React ì´ˆê¸° ì„¤ì •

### Day 8-10: UC2 (EMR) - OpenEMR í”„ë¡ì‹œ êµ¬í˜„

#### ì‘ì—… ë‚´ìš©

1. **emr/client.py - OpenEMR API í´ë¼ì´ì–¸íŠ¸**
   ```python
   import requests
   from django.conf import settings

   class OpenEMRClient:
       def __init__(self):
           self.base_url = settings.OPENEMR_BASE_URL
           self.api_token = settings.OPENEMR_API_TOKEN

       def get_patient(self, patient_id):
           """í™˜ì ì •ë³´ ì¡°íšŒ"""
           url = f"{self.base_url}/api/patient/{patient_id}"
           headers = {'Authorization': f'Bearer {self.api_token}'}

           try:
               response = requests.get(url, headers=headers, timeout=10)
               response.raise_for_status()
               return response.json()
           except requests.RequestException as e:
               return {'error': str(e)}

       def get_encounters(self, patient_id):
           """ì§„ë£Œ ê¸°ë¡ ì¡°íšŒ"""
           url = f"{self.base_url}/api/patient/{patient_id}/encounter"
           headers = {'Authorization': f'Bearer {self.api_token}'}

           try:
               response = requests.get(url, headers=headers, timeout=10)
               response.raise_for_status()
               return response.json()
           except requests.RequestException as e:
               return {'error': str(e)}
   ```

2. **emr/views.py - EMR Proxy API**
   ```python
   from rest_framework.decorators import api_view, permission_classes
   from rest_framework.response import Response
   from rest_framework import status
   from acct.permissions import IsDoctorOrRIB, IsSelfOrAdmin
   from .client import OpenEMRClient
   from audit.client import AuditClient

   @api_view(['GET'])
   @permission_classes([IsDoctorOrRIB | IsSelfOrAdmin])
   def get_patient(request, patient_id):
       # PatientëŠ” ë³¸ì¸ IDë§Œ ì¡°íšŒ ê°€ëŠ¥
       if request.user.role == 'patient' and str(request.user.id) != patient_id:
           return Response({'error': 'Permission denied'},
                         status=status.HTTP_403_FORBIDDEN)

       client = OpenEMRClient()
       data = client.get_patient(patient_id)

       # ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
       AuditClient.log_event(
           user=request.user,
           action='READ',
           resource_type='Patient',
           resource_id=patient_id,
           request=request
       )

       return Response(data)
   ```

3. **settings.py - OpenEMR ì„¤ì • ì¶”ê°€**
   ```python
   # OpenEMR ì—°ë™ ì„¤ì •
   OPENEMR_BASE_URL = 'http://localhost:8080'  # ì‚¬ìš©ìê°€ ì œê³µí•œ URLë¡œ ë³€ê²½ í•„ìš”
   OPENEMR_API_TOKEN = 'your_openemr_token'    # ì‚¬ìš©ìê°€ ì œê³µí•œ í† í°ìœ¼ë¡œ ë³€ê²½ í•„ìš”
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] OpenEMR API í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ ì™„ë£Œ
- [ ] `/api/emr/patient/<id>/` ì—”ë“œí¬ì¸íŠ¸ ë™ì‘ í™•ì¸
- [ ] ì—­í• ë³„ ì ‘ê·¼ ê¶Œí•œ í…ŒìŠ¤íŠ¸ ì™„ë£Œ (Doctor, Patient)

---

### Day 11-12: UC7 (ALERT) - íƒ€ì„ë¼ì¸/ì•Œë¦¼ ê¸°ë³¸ êµ¬í˜„

#### ì‘ì—… ë‚´ìš©

1. **alert/models.py - ì•Œë¦¼ ëª¨ë¸**
   ```python
   from django.db import models
   from acct.models import User

   class Alert(models.Model):
       SEVERITY_CHOICES = [
           ('INFO', 'Info'),
           ('WARNING', 'Warning'),
           ('CRITICAL', 'Critical'),
           ('CODE_BLUE', 'Code Blue'),
       ]

       user = models.ForeignKey(User, on_delete=models.CASCADE,
                               related_name='alerts')
       severity = models.CharField(max_length=20, choices=SEVERITY_CHOICES)
       title = models.CharField(max_length=200)
       message = models.TextField()
       source = models.CharField(max_length=50)  # 'AI', 'OCS', 'RIS', etc.
       is_read = models.BooleanField(default=False)
       created_at = models.DateTimeField(auto_now_add=True)

       class Meta:
           ordering = ['-created_at']
   ```

2. **alert/views.py - ì•Œë¦¼ API**
   ```python
   from rest_framework import viewsets
   from rest_framework.decorators import action
   from rest_framework.response import Response
   from .models import Alert
   from .serializers import AlertSerializer

   class AlertViewSet(viewsets.ReadOnlyModelViewSet):
       serializer_class = AlertSerializer

       def get_queryset(self):
           # ì‚¬ìš©ì ë³¸ì¸ì˜ ì•Œë¦¼ë§Œ ì¡°íšŒ
           return Alert.objects.filter(user=self.request.user)

       @action(detail=True, methods=['post'])
       def mark_as_read(self, request, pk=None):
           alert = self.get_object()
           alert.is_read = True
           alert.save()
           return Response({'status': 'marked as read'})
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] Alert ëª¨ë¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] `/api/alert/` ì—”ë“œí¬ì¸íŠ¸ ë™ì‘ í™•ì¸
- [ ] ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬ ê¸°ëŠ¥ í™•ì¸

---

### Day 13-14: React í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • + ë¡œê·¸ì¸ í™”ë©´

#### ì‘ì—… ë‚´ìš©

1. **í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ì •**
   ```
   cdss-frontend-react/
   â”œâ”€â”€ src/
   â”‚   â”œâ”€â”€ api/
   â”‚   â”‚   â””â”€â”€ axios.js
   â”‚   â”œâ”€â”€ components/
   â”‚   â”‚   â”œâ”€â”€ Login.js
   â”‚   â”‚   â””â”€â”€ Dashboard.js
   â”‚   â”œâ”€â”€ context/
   â”‚   â”‚   â””â”€â”€ AuthContext.js
   â”‚   â”œâ”€â”€ App.js
   â”‚   â””â”€â”€ index.js
   ```

2. **Tailwind CSS ì„¤ì •**
   ```typescript
   // tailwind.config.js
   /** @type {import('tailwindcss').Config} */
   module.exports = {
     content: [
       "./src/**/*.{js,jsx,ts,tsx}",
     ],
     theme: {
       extend: {
         colors: {
           admin: '#DC2626',
           doctor: '#2563EB',
           rib: '#7C3AED',
           lab: '#059669',
           nurse: '#DB2777',
           patient: '#EA580C',
           external: '#64748B',
         },
       },
     },
     plugins: [
       require('@tailwindcss/forms'),
     ],
   }

   // src/index.css
   @tailwind base;
   @tailwind components;
   @tailwind utilities;
   ```

3. **src/types/index.ts - TypeScript íƒ€ì… ì •ì˜**
   ```typescript
   // ì—­í•  íƒ€ì…
   export type UserRole = 'admin' | 'doctor' | 'rib' | 'lab' | 'nurse' | 'patient' | 'external';

   // ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
   export interface User {
     id: string;
     username: string;
     email?: string;
     role: UserRole;
     employeeId?: string;
     department?: string;
     phone?: string;
     createdAt: string;
   }

   // API ì‘ë‹µ íƒ€ì…
   export interface ApiResponse<T> {
     data: T;
     message?: string;
     status: number;
   }

   // ë¡œê·¸ì¸ ìš”ì²­/ì‘ë‹µ
   export interface LoginRequest {
     username: string;
     password: string;
   }

   export interface LoginResponse {
     token: string;
     user: User;
   }

   // ê¶Œí•œ íƒ€ì…
   export type Permission =
     | 'patient.view'
     | 'patient.edit'
     | 'order.create'
     | 'report.sign'
     | 'ai_result.approve';
   ```

4. **src/api/axios.ts - Axios ì„¤ì • (TypeScript)**
   ```typescript
   import axios, { AxiosRequestConfig } from 'axios';

   const api = axios.create({
       baseURL: 'http://localhost:8000/api',
       headers: {
           'Content-Type': 'application/json',
       },
   });

   // ìš”ì²­ ì¸í„°ì…‰í„° - í† í° ìë™ ì¶”ê°€
   api.interceptors.request.use(
       (config: AxiosRequestConfig) => {
           const token = localStorage.getItem('token');
           if (token && config.headers) {
               config.headers.Authorization = `Token ${token}`;
           }
           return config;
       },
       (error) => Promise.reject(error)
   );

   // ì‘ë‹µ ì¸í„°ì…‰í„° - ì—ëŸ¬ ì²˜ë¦¬
   api.interceptors.response.use(
       (response) => response,
       (error) => {
           if (error.response?.status === 401) {
               localStorage.removeItem('token');
               window.location.href = '/login';
           }
           return Promise.reject(error);
       }
   );

   export default api;
   ```

5. **src/stores/authStore.ts - Zustand ì¸ì¦ ìŠ¤í† ì–´**
   ```typescript
   import { create } from 'zustand';
   import api from '../api/axios';
   import { User, LoginRequest, LoginResponse, Permission } from '../types';

   interface AuthStore {
     user: User | null;
     token: string | null;
     isAuthenticated: boolean;
     login: (data: LoginRequest) => Promise<void>;
     logout: () => void;
     refreshToken: () => Promise<void>;
     checkPermission: (permission: Permission) => boolean;
     checkRole: (role: string) => boolean;
   }

   export const useAuthStore = create<AuthStore>((set, get) => ({
     user: null,
     token: localStorage.getItem('token'),
     isAuthenticated: !!localStorage.getItem('token'),

     login: async (data: LoginRequest) => {
       try {
         const response = await api.post<LoginResponse>('/acct/login/', data);
         const { token, user } = response.data;

         set({
           user,
           token,
           isAuthenticated: true
         });

         localStorage.setItem('token', token);
       } catch (error) {
         throw error;
       }
     },

     logout: () => {
       set({
         user: null,
         token: null,
         isAuthenticated: false
       });
       localStorage.removeItem('token');
     },

     refreshToken: async () => {
       // Refresh token logic (UC1ì—ì„œ êµ¬í˜„)
     },

     checkPermission: (permission: Permission) => {
       const { user } = get();
       // Backendì—ì„œ user.permissions ë°°ì—´ ì œê³µ ì‹œ ì²´í¬
       return user?.role === 'admin'; // ì„ì‹œ: Adminì€ ëª¨ë“  ê¶Œí•œ
     },

     checkRole: (role: string) => {
       const { user } = get();
       return user?.role === role;
     },
   }));
   ```

6. **src/utils/cn.ts - Tailwind ìœ í‹¸ë¦¬í‹° (classnames í—¬í¼)**
   ```typescript
   import { type ClassValue, clsx } from 'clsx';
   import { twMerge } from 'tailwind-merge';

   export function cn(...inputs: ClassValue[]) {
     return twMerge(clsx(inputs));
   }
   ```

7. **src/components/Login.tsx - ë¡œê·¸ì¸ í™”ë©´ (TypeScript + Tailwind)**
   ```typescript
   import React, { useState } from 'react';
   import { useNavigate } from 'react-router-dom';
   import { useAuthStore } from '../stores/authStore';
   import { cn } from '../utils/cn';

   const Login: React.FC = () => {
     const [username, setUsername] = useState('');
     const [password, setPassword] = useState('');
     const [error, setError] = useState('');
     const [isLoading, setIsLoading] = useState(false);

     const login = useAuthStore((state) => state.login);
     const navigate = useNavigate();

     const handleSubmit = async (e: React.FormEvent) => {
       e.preventDefault();
       setError('');
       setIsLoading(true);

       try {
         await login({ username, password });
         navigate('/dashboard');
       } catch (err) {
         setError('ë¡œê·¸ì¸ ì‹¤íŒ¨: ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.');
       } finally {
         setIsLoading(false);
       }
     };

     return (
       <div className="min-h-screen bg-gray-50 flex items-center justify-center px-4">
         <div className="max-w-md w-full space-y-8">
           <div>
             <h2 className="text-center text-3xl font-bold text-gray-900">
               CDSS ë¡œê·¸ì¸
             </h2>
             <p className="mt-2 text-center text-sm text-gray-600">
               ì„ìƒ ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œ
             </p>
           </div>

           {error && (
             <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded">
               {error}
             </div>
           )}

           <form className="mt-8 space-y-6" onSubmit={handleSubmit}>
             <div className="space-y-4">
               <div>
                 <label htmlFor="username" className="block text-sm font-medium text-gray-700">
                   ì•„ì´ë””
                 </label>
                 <input
                   id="username"
                   type="text"
                   required
                   value={username}
                   onChange={(e) => setUsername(e.target.value)}
                   className={cn(
                     "mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",
                     "focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                   )}
                 />
               </div>

               <div>
                 <label htmlFor="password" className="block text-sm font-medium text-gray-700">
                   ë¹„ë°€ë²ˆí˜¸
                 </label>
                 <input
                   id="password"
                   type="password"
                   required
                   value={password}
                   onChange={(e) => setPassword(e.target.value)}
                   className={cn(
                     "mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",
                     "focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                   )}
                 />
               </div>
             </div>

             <button
               type="submit"
               disabled={isLoading}
               className={cn(
                 "w-full flex justify-center py-2 px-4 border border-transparent rounded-md",
                 "text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",
                 "focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",
                 "disabled:opacity-50 disabled:cursor-not-allowed"
               )}
             >
               {isLoading ? 'ë¡œê·¸ì¸ ì¤‘...' : 'ë¡œê·¸ì¸'}
             </button>
           </form>
         </div>
       </div>
     );
   };

   export default Login;
   ```

8. **src/App.tsx - ë¼ìš°íŒ… ì„¤ì • (TypeScript)**
   ```typescript
   import React from 'react';
   import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';
   import { useAuthStore } from './stores/authStore';
   import Login from './components/Login';
   import Dashboard from './components/Dashboard';

   const PrivateRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {
     const isAuthenticated = useAuthStore((state) => state.isAuthenticated);
     return isAuthenticated ? <>{children}</> : <Navigate to="/login" />;
   };

   function App() {
     return (
       <BrowserRouter>
         <Routes>
           <Route path="/login" element={<Login />} />
           <Route
             path="/dashboard"
             element={
               <PrivateRoute>
                 <Dashboard />
               </PrivateRoute>
             }
           />
           <Route path="/" element={<Navigate to="/login" />} />
         </Routes>
       </BrowserRouter>
     );
   }

   export default App;
   ```

9. **src/components/RoleBadge.tsx - ì—­í•  ë°°ì§€ ì»´í¬ë„ŒíŠ¸ (Tailwind)**
   ```typescript
   import React from 'react';
   import { UserRole } from '../types';
   import { cn } from '../utils/cn';

   interface RoleBadgeProps {
     role: UserRole;
     size?: 'sm' | 'md' | 'lg';
   }

   const roleColors: Record<UserRole, string> = {
     admin: 'bg-admin text-white',
     doctor: 'bg-doctor text-white',
     rib: 'bg-rib text-white',
     lab: 'bg-lab text-white',
     nurse: 'bg-nurse text-white',
     patient: 'bg-patient text-white',
     external: 'bg-external text-white',
   };

   const roleLabels: Record<UserRole, string> = {
     admin: 'ê´€ë¦¬ì',
     doctor: 'ì˜ì‚¬',
     rib: 'ë°©ì‚¬ì„ ê³¼',
     lab: 'ê²€ì‚¬ì‹¤',
     nurse: 'ê°„í˜¸ì‚¬',
     patient: 'í™˜ì',
     external: 'ì™¸ë¶€ê¸°ê´€',
   };

   const RoleBadge: React.FC<RoleBadgeProps> = ({ role, size = 'md' }) => {
     const sizeClasses = {
       sm: 'px-2 py-0.5 text-xs',
       md: 'px-3 py-1 text-sm',
       lg: 'px-4 py-1.5 text-base',
     };

     return (
       <span
         className={cn(
           'inline-flex items-center rounded-full font-medium',
           roleColors[role],
           sizeClasses[size]
         )}
       >
         {roleLabels[role]}
       </span>
     );
   };

   export default RoleBadge;
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] React + TypeScript í”„ë¡œì íŠ¸ ì •ìƒ ì‹¤í–‰ (`npm start`)
- [ ] Tailwind CSS ì ìš© í™•ì¸ (ì—­í• ë³„ ìƒ‰ìƒ í…Œë§ˆ)
- [ ] Zustand ìŠ¤í† ì–´ ë™ì‘ í™•ì¸
- [ ] ë¡œê·¸ì¸ í™”ë©´ ë Œë”ë§ í™•ì¸ (TypeScript ì—ëŸ¬ ì—†ìŒ)
- [ ] Django API ë¡œê·¸ì¸ ì—°ë™ ì„±ê³µ
- [ ] í† í° ì €ì¥ ë° ìë™ ì¸ì¦ í—¤ë” ì¶”ê°€ í™•ì¸
- [ ] TypeScript ì»´íŒŒì¼ ì—ëŸ¬ ì—†ìŒ (`npm run build`)

---




















## Week 3: MySQL ìŠ¤í‚¤ë§ˆ êµ¬ì¶• + UC3/UC4 ê¸°ë³¸ êµ¬í˜„

### Day 15-16: MySQL ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° ë§ˆì´ê·¸ë ˆì´ì…˜

#### ì‘ì—… ë‚´ìš©

1. **ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„**
   - ACCT í…Œì´ë¸”: User, Role, Permission
   - EMR í…Œì´ë¸”: Patient, Encounter, Diagnosis
   - OCS í…Œì´ë¸”: Prescription, Order
   - LIS í…Œì´ë¸”: LabTest, LabResult
   - RIS í…Œì´ë¸”: ImagingStudy, Report
   - AI í…Œì´ë¸”: AIJob, AIResult
   - ALERT í…Œì´ë¸”: Alert, Timeline
   - AUDIT í…Œì´ë¸”: AuditLog

2. **Django ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ë° ì‹¤í–‰**
   ```bash
   python manage.py makemigrations
   python manage.py migrate
   ```

3. **ì´ˆê¸° ë°ì´í„° ìƒì„± (Fixture)**
   ```python
   # scripts/create_test_users.py
   from acct.models import User

   # ê° ì—­í• ë³„ í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ìƒì„±
   User.objects.create_user(
       username='admin1',
       password='admin123',
       role='admin',
       email='admin@hospital.com'
   )

   User.objects.create_user(
       username='doctor1',
       password='doctor123',
       role='doctor',
       email='doctor@hospital.com',
       employee_id='D001',
       department='Neurosurgery'
   )

   # ... (ë‚˜ë¨¸ì§€ ì—­í• ë³„ ì‚¬ìš©ì ìƒì„±)
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] ëª¨ë“  í…Œì´ë¸” ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] ERDì™€ ì‹¤ì œ í…Œì´ë¸” êµ¬ì¡° ì¼ì¹˜ í™•ì¸
- [ ] 7ê°œ ì—­í• ë³„ í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ìƒì„± ì™„ë£Œ

---

### Day 17-19: UC3 (OCS) - ì²˜ë°©ì „ë‹¬ì‹œìŠ¤í…œ ê¸°ë³¸ êµ¬í˜„

#### ì‘ì—… ë‚´ìš©

1. **ocs/models.py - ì²˜ë°© ëª¨ë¸**
   ```python
   from django.db import models
   from acct.models import User

   class Prescription(models.Model):
       STATUS_CHOICES = [
           ('DRAFT', 'Draft'),
           ('ORDERED', 'Ordered'),
           ('IN_PROGRESS', 'In Progress'),
           ('COMPLETED', 'Completed'),
           ('CANCELLED', 'Cancelled'),
       ]

       patient_id = models.CharField(max_length=50)
       doctor = models.ForeignKey(User, on_delete=models.SET_NULL,
                                 null=True, related_name='prescriptions')
       medication_name = models.CharField(max_length=200)
       dosage = models.CharField(max_length=100)
       frequency = models.CharField(max_length=100)
       duration_days = models.IntegerField()
       status = models.CharField(max_length=20, choices=STATUS_CHOICES,
                               default='DRAFT')
       notes = models.TextField(blank=True, null=True)
       created_at = models.DateTimeField(auto_now_add=True)
       updated_at = models.DateTimeField(auto_now=True)
   ```

2. **ocs/views.py - ì²˜ë°© API**
   ```python
   from rest_framework import viewsets
   from rest_framework.decorators import action
   from acct.permissions import IsDoctor
   from .models import Prescription
   from .serializers import PrescriptionSerializer

   class PrescriptionViewSet(viewsets.ModelViewSet):
       queryset = Prescription.objects.all()
       serializer_class = PrescriptionSerializer
       permission_classes = [IsDoctor]

       def perform_create(self, serializer):
           serializer.save(doctor=self.request.user)

       @action(detail=True, methods=['post'])
       def submit(self, request, pk=None):
           prescription = self.get_object()
           prescription.status = 'ORDERED'
           prescription.save()
           return Response({'status': 'prescription submitted'})
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] Prescription ëª¨ë¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] `/api/ocs/prescription/` CRUD API ë™ì‘ í™•ì¸
- [ ] Doctor ì—­í• ë§Œ ì²˜ë°© ìƒì„± ê°€ëŠ¥ í™•ì¸

---

### Day 20-21: UC4 (LIS) - ì„ìƒë³‘ë¦¬ì •ë³´ì‹œìŠ¤í…œ ê¸°ë³¸ êµ¬í˜„

#### ì‘ì—… ë‚´ìš©

1. **lis/models.py - ê²€ì‚¬ ëª¨ë¸**
   ```python
   from django.db import models
   from acct.models import User

   class LabTest(models.Model):
       TEST_TYPE_CHOICES = [
           ('BLOOD', 'Blood Test'),
           ('URINE', 'Urine Test'),
           ('PROTEIN', 'Protein Analysis'),
           ('GENETIC', 'Genetic Test'),
       ]

       patient_id = models.CharField(max_length=50)
       ordered_by = models.ForeignKey(User, on_delete=models.SET_NULL,
                                     null=True, related_name='lab_orders')
       test_type = models.CharField(max_length=20, choices=TEST_TYPE_CHOICES)
       specimen_id = models.CharField(max_length=100, unique=True)
       status = models.CharField(max_length=20, default='PENDING')
       created_at = models.DateTimeField(auto_now_add=True)

   class LabResult(models.Model):
       lab_test = models.OneToOneField(LabTest, on_delete=models.CASCADE,
                                      related_name='result')
       result_data = models.JSONField()  # ê²€ì‚¬ ê²°ê³¼ (í‚¤-ê°’ ìŒ)
       uploaded_by = models.ForeignKey(User, on_delete=models.SET_NULL,
                                      null=True, related_name='lab_uploads')
       uploaded_at = models.DateTimeField(auto_now_add=True)
   ```

2. **lis/views.py - ê²€ì‚¬ API**
   ```python
   from rest_framework import viewsets
   from acct.permissions import IsDoctor
   from .models import LabTest, LabResult
   from .serializers import LabTestSerializer, LabResultSerializer

   class LabTestViewSet(viewsets.ModelViewSet):
       queryset = LabTest.objects.all()
       serializer_class = LabTestSerializer
       permission_classes = [IsDoctor]

       def perform_create(self, serializer):
           serializer.save(ordered_by=self.request.user)
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] LabTest, LabResult ëª¨ë¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] `/api/lis/labtest/` API ë™ì‘ í™•ì¸
- [ ] Doctorê°€ ê²€ì‚¬ ì˜¤ë” ìƒì„± ê°€ëŠ¥ í™•ì¸


















---

## Week 4: React ì—­í• ë³„ í™”ë©´ + í†µí•© í…ŒìŠ¤íŠ¸

### Day 22-24: React ì—­í• ë³„ ëŒ€ì‹œë³´ë“œ êµ¬í˜„

#### ì‘ì—… ë‚´ìš©

1. **src/components/Dashboard.js - ì—­í• ë³„ ëŒ€ì‹œë³´ë“œ**
   ```javascript
   import React from 'react';
   import { useAuth } from '../context/AuthContext';
   import DoctorDashboard from './roles/DoctorDashboard';
   import PatientDashboard from './roles/PatientDashboard';
   import AdminDashboard from './roles/AdminDashboard';
   // ... ë‚˜ë¨¸ì§€ ì—­í• ë³„ ì»´í¬ë„ŒíŠ¸ import

   const Dashboard = () => {
       const { user } = useAuth();

       const renderDashboard = () => {
           switch (user.role) {
               case 'admin':
                   return <AdminDashboard />;
               case 'doctor':
                   return <DoctorDashboard />;
               case 'patient':
                   return <PatientDashboard />;
               case 'rib':
                   return <RIBDashboard />;
               case 'lab':
                   return <LabDashboard />;
               case 'nurse':
                   return <NurseDashboard />;
               default:
                   return <div>ê¶Œí•œ ì—†ìŒ</div>;
           }
       };

       return (
           <div>
               <h1>í™˜ì˜í•©ë‹ˆë‹¤, {user.username}ë‹˜</h1>
               {renderDashboard()}
           </div>
       );
   };

   export default Dashboard;
   ```

2. **Doctor ëŒ€ì‹œë³´ë“œ ì˜ˆì‹œ**
   ```javascript
   // src/components/roles/DoctorDashboard.js
   import React, { useState, useEffect } from 'react';
   import api from '../../api/axios';

   const DoctorDashboard = () => {
       const [patients, setPatients] = useState([]);

       useEffect(() => {
           api.get('/emr/patients/')
               .then(res => setPatients(res.data))
               .catch(err => console.error(err));
       }, []);

       return (
           <div>
               <h2>ì˜ì‚¬ ëŒ€ì‹œë³´ë“œ</h2>
               <h3>í™˜ì ëª©ë¡</h3>
               <ul>
                   {patients.map(patient => (
                       <li key={patient.id}>{patient.name}</li>
                   ))}
               </ul>
           </div>
       );
   };

   export default DoctorDashboard;
   ```

#### ì™„ë£Œ ê¸°ì¤€
- [ ] 7ê°œ ì—­í• ë³„ ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸ ìƒì„± ì™„ë£Œ
- [ ] ì—­í• ë³„ í™”ë©´ ì „í™˜ ë™ì‘ í™•ì¸
- [ ] ê° ì—­í• ë³„ ê¶Œí•œì— ë§ëŠ” API í˜¸ì¶œ í™•ì¸

---

### Day 25-27: í†µí•© í…ŒìŠ¤íŠ¸ ë° ë²„ê·¸ ìˆ˜ì •

#### ì‘ì—… ë‚´ìš©

1. **End-to-End í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**
   - [ ] Admin ë¡œê·¸ì¸ â†’ ì‚¬ìš©ì ìƒì„±
   - [ ] Doctor ë¡œê·¸ì¸ â†’ í™˜ì ì¡°íšŒ â†’ ì²˜ë°© ìƒì„±
   - [ ] Patient ë¡œê·¸ì¸ â†’ ë³¸ì¸ ë°ì´í„° ì¡°íšŒ
   - [ ] RIB ë¡œê·¸ì¸ â†’ DICOM ì—…ë¡œë“œ (UC5 êµ¬í˜„ ì „ì´ë¯€ë¡œ UIë§Œ)
   - [ ] Lab ë¡œê·¸ì¸ â†’ ê²€ì‚¬ ê²°ê³¼ ì…ë ¥
   - [ ] Nurse ë¡œê·¸ì¸ â†’ ë°”ì´íƒˆ ì¡°íšŒ
   - [ ] ê° ì•¡ì…˜ë§ˆë‹¤ ê°ì‚¬ ë¡œê·¸ ìƒì„± í™•ì¸

2. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
   - API ì‘ë‹µ ì‹œê°„ ì¸¡ì • (ëª©í‘œ: < 500ms)
   - ë™ì‹œ ì‚¬ìš©ì 50ëª… ì‹œë®¬ë ˆì´ì…˜

3. **ë³´ì•ˆ í…ŒìŠ¤íŠ¸**
   - íƒ€ ì—­í• ì˜ ì—”ë“œí¬ì¸íŠ¸ ì ‘ê·¼ ì°¨ë‹¨ í™•ì¸
   - Patientì˜ íƒ€ì¸ ë°ì´í„° ì ‘ê·¼ ì°¨ë‹¨ í™•ì¸
   - SQL Injection, XSS ë°©ì–´ í™•ì¸

#### ì™„ë£Œ ê¸°ì¤€
- [ ] ëª¨ë“  E2E ì‹œë‚˜ë¦¬ì˜¤ í†µê³¼
- [ ] ì¤‘ëŒ€í•œ ë²„ê·¸ 0ê±´
- [ ] ë³´ì•ˆ ì·¨ì•½ì  0ê±´

---

### Day 28: ë¬¸ì„œí™” ë° ì½”ë“œ ë¦¬ë·°

#### ì‘ì—… ë‚´ìš©

1. **API ë¬¸ì„œ ì‘ì„± (Swagger/Postman)**
   ```python
   # settings.py
   INSTALLED_APPS += ['drf_yasg']  # Swagger ìë™ ìƒì„±

   # urls.py
   from drf_yasg.views import get_schema_view
   from drf_yasg import openapi

   schema_view = get_schema_view(
       openapi.Info(
           title="CDSS API",
           default_version='v1',
       ),
       public=True,
   )

   urlpatterns += [
       path('swagger/', schema_view.with_ui('swagger')),
   ]
   ```

2. **README.md ì—…ë°ì´íŠ¸**
   - API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡ ì¶”ê°€
   - ì„¤ì¹˜ ë° ì‹¤í–‰ ê°€ì´ë“œ ì—…ë°ì´íŠ¸
   - í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²• ì¶”ê°€

3. **ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸**
   - [ ] PEP 8 ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ì¤€ìˆ˜ (Backend)
   - [ ] ESLint ê·œì¹™ ì¤€ìˆ˜ (Frontend)
   - [ ] ëª¨ë“  í•¨ìˆ˜ì— docstring ì‘ì„±
   - [ ] í•˜ë“œì½”ë”©ëœ ì„¤ì •ê°’ ì œê±°

#### ì™„ë£Œ ê¸°ì¤€
- [ ] Swagger UI ì ‘ì† ê°€ëŠ¥ (`http://localhost:8000/swagger/`)
- [ ] ëª¨ë“  ì½”ë“œì— ì£¼ì„ ë° ë¬¸ì„œí™” ì™„ë£Œ
- [ ] íŒ€ì› ì½”ë“œ ë¦¬ë·° í†µê³¼

---

## 1ë‹¬ ì‘ì—… ì™„ë£Œ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### êµ¬í˜„ ì™„ë£Œ í•­ëª©
- [x] UC1 (ACCT) - 7ê°œ ì—­í•  ì¸ì¦/ê¶Œí•œ
- [x] UC2 (EMR) - OpenEMR í”„ë¡ì‹œ ê¸°ë³¸ êµ¬í˜„
- [x] UC3 (OCS) - ì²˜ë°©ì „ë‹¬ì‹œìŠ¤í…œ ê¸°ë³¸ êµ¬í˜„
- [x] UC4 (LIS) - ì„ìƒë³‘ë¦¬ì •ë³´ì‹œìŠ¤í…œ ê¸°ë³¸ êµ¬í˜„
- [x] UC7 (ALERT) - ì•Œë¦¼ ê¸°ë³¸ êµ¬í˜„
- [x] UC9 (AUDIT) - ê°ì‚¬ ë¡œê·¸
- [x] React - ë¡œê·¸ì¸ + 7ê°œ ì—­í•  ëŒ€ì‹œë³´ë“œ
- [x] MySQL - ì „ì²´ ìŠ¤í‚¤ë§ˆ êµ¬ì¶•

### ë¯¸êµ¬í˜„ í•­ëª© (ë‹¤ìŒ ë‹¬ ì‘ì—…)
- [ ] UC5 (RIS) - Orthanc ì—°ë™, DICOM Viewer
- [ ] UC6 (AI) - AI ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜, RabbitMQ í
- [ ] UC8 (FHIR) - HAPI FHIR ì—°ë™
- [ ] Flutter - í™˜ì ì „ìš© ëª¨ë°”ì¼ ì•±
- [ ] Django Channels - WebSocket ì‹¤ì‹œê°„ ì•Œë¦¼
- [ ] Docker ë°°í¬ í™˜ê²½ êµ¬ì¶•
- [ ] Prometheus/Grafana ëª¨ë‹ˆí„°ë§

---

## ê°€ìƒí™˜ê²½ ë° ì˜ì¡´ì„± ê´€ë¦¬ (ì¤‘ìš”!)

### Python ê°€ìƒí™˜ê²½ ê·œì¹™

**ë§¤ì¼ ì‘ì—… ì‹œì‘ ì „:**
```bash
# 1. ê°€ìƒí™˜ê²½ í™œì„±í™” í™•ì¸
source venv/bin/activate  # Windows: venv\Scripts\activate

# 2. ìµœì‹  ì˜ì¡´ì„± ì„¤ì¹˜ (ë‹¤ë¥¸ ê°œë°œìê°€ ì—…ë°ì´íŠ¸í•œ ê²½ìš°)
pip install -r requirements.txt
```

**ìƒˆ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œ (í•„ìˆ˜!):**
```bash
# 1. íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install <package-name>

# 2. ì¦‰ì‹œ requirements.txt ì—…ë°ì´íŠ¸
pip freeze > requirements.txt

# 3. Git ì»¤ë°‹
git add requirements.txt
git commit -m "chore: add <package-name>"
git push
```

**ì‘ì—… ì¢…ë£Œ ì‹œ:**
```bash
# ê°€ìƒí™˜ê²½ ë¹„í™œì„±í™”
deactivate
```

### Node.js íŒ¨í‚¤ì§€ ê·œì¹™

**ìƒˆ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œ (ìë™ ì—…ë°ì´íŠ¸):**
```bash
# 1. íŒ¨í‚¤ì§€ ì„¤ì¹˜ (package.json ìë™ ì—…ë°ì´íŠ¸)
npm install <package-name>

# 2. Git ì»¤ë°‹
git add package.json package-lock.json
git commit -m "chore: add <package-name>"
git push
```

**ë‹¤ë¥¸ ê°œë°œìê°€ íŒ¨í‚¤ì§€ ì¶”ê°€í•œ ê²½ìš°:**
```bash
# ìµœì‹  ì˜ì¡´ì„± ì„¤ì¹˜
npm install
```

### í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

**ì´ˆê¸° ì„¤ì •:**
```bash
# Backend
cd cdss-backend
cp .env.example .env
# .env íŒŒì¼ ì—´ì–´ì„œ ì‹¤ì œ ê°’ ì…ë ¥ (API í‚¤, ë¹„ë°€ë²ˆí˜¸ ë“±)

# Frontend
cd cdss-frontend-react
cp .env.example .env
# REACT_APP_* í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```

**ì£¼ì˜ì‚¬í•­:**
- âŒ `.env` íŒŒì¼ì€ ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ì•ŠìŒ
- âœ… `.env.example` íŒŒì¼ì€ í…œí”Œë¦¿ìœ¼ë¡œ Gitì— í¬í•¨
- âœ… ìƒˆ í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€ ì‹œ `.env.example`ë„ ì—…ë°ì´íŠ¸

---

## ì‘ì—… ì‹œ ì£¼ì˜ì‚¬í•­

### 1. ì½”ë”© ì›ì¹™
- **7-Layer Architecture ì¤€ìˆ˜**: Controller â†’ Service â†’ Repository/Client
- **RBAC ì² ì €íˆ ì ìš©**: ëª¨ë“  APIì— `permission_classes` ì„¤ì •
- **Self Access ê·œì¹™**: PatientëŠ” ë³¸ì¸ ë°ì´í„°ë§Œ ì ‘ê·¼ (`IsSelfOrAdmin`)
- **ê°ì‚¬ ë¡œê·¸ í•„ìˆ˜**: ì¤‘ìš” ì•¡ì…˜ë§ˆë‹¤ `AuditClient.log_event()` í˜¸ì¶œ

### 2. ì—ëŸ¬ í•¸ë“¤ë§
```python
# Django
try:
    # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
except Exception as e:
    return Response({'error': str(e)}, status=status.HTTP_500_INTERNAL_SERVER_ERROR)

# React
try {
    // API í˜¸ì¶œ
} catch (error) {
    console.error(error);
    alert('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
}
```

### 3. ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ëª¨ë“  APIì— ì¸ì¦ í•„ìˆ˜ (`IsAuthenticated`)
- [ ] ë¯¼ê° ì •ë³´ (ë¹„ë°€ë²ˆí˜¸, í† í°) ë¡œê·¸ ì¶œë ¥ ê¸ˆì§€
- [ ] SQL Injection ë°©ì–´ (ORM ì‚¬ìš©)
- [ ] XSS ë°©ì–´ (ReactëŠ” ê¸°ë³¸ ì œê³µ, DjangoëŠ” í…œí”Œë¦¿ ì´ìŠ¤ì¼€ì´í”„)
- [ ] CORS ì„¤ì • ì—„ê²©íˆ ì œí•œ (`CORS_ALLOWED_ORIGINS`)

### 4. Git ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™
```
feat: UC1 ì‚¬ìš©ì ì¸ì¦ API êµ¬í˜„
fix: Patient ê¶Œí•œ ì²´í¬ ë²„ê·¸ ìˆ˜ì •
docs: API ë¬¸ì„œ Swagger ì¶”ê°€
test: UC3 ì²˜ë°© ìƒì„± í…ŒìŠ¤íŠ¸ ì¶”ê°€
refactor: EMR Client ì½”ë“œ ì •ë¦¬
```

---

## ì‘ì—… ì§„í–‰ ìƒí™© ë³´ê³  í…œí”Œë¦¿

ë§¤ì£¼ ê¸ˆìš”ì¼ë§ˆë‹¤ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë³´ê³ :

```markdown
## Week X ì‘ì—… ì™„ë£Œ ë³´ê³ 

### ì™„ë£Œ í•­ëª©
- [x] UC1 ë¡œê·¸ì¸ API êµ¬í˜„
- [x] React ë¡œê·¸ì¸ í™”ë©´ êµ¬í˜„
- [x] 7ê°œ ì—­í•  í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ìƒì„±

### ì§„í–‰ ì¤‘ í•­ëª©
- [ ] UC2 OpenEMR ì—°ë™ (80% ì™„ë£Œ)

### ë°œê²¬ëœ ì´ìŠˆ
- OpenEMR API ì¸ì¦ í† í° ë§Œë£Œ ë¬¸ì œ (í•´ê²° í•„ìš”)

### ë‹¤ìŒ ì£¼ ê³„íš
- UC2 ì™„ë£Œ í›„ UC7 ì‹œì‘
```

---

**Last Updated**: 2025-12-19
**Version**: 1.0
**Author**: Claude AI
